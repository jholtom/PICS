GAS LISTING /tmp/cc65NKcs.s 			page 1


   1               		.file	"sdlp.c"
   2               		.section	.text.rxfifothresh_callback,"ax",@progbits
   3               		.balign 2
   4               		.global	rxfifothresh_callback
   5               		.type	rxfifothresh_callback, @function
   6               	rxfifothresh_callback:
   7               	; start of function
   8               	; framesize_regs:     0
   9               	; framesize_locals:   0
  10               	; framesize_outgoing: 0
  11               	; framesize:          0
  12               	; elim ap -> fp       4
  13               	; elim fp -> sp       0
  14               	; saved regs:(none)
  15               		; start of prologue
  16               		; end of prologue
  17 0000 3D40 0010 		MOV.W	#4096, R13
  18 0004 4E43      		MOV.B	#0, R14
  19 0006 2C00 0000 		MOVA	&rf_thd, R12
  20 000a B013 0000 		CALLA	#chEvtSignalI
  21               		; start of epilogue
  22 000e 1001      		RETA
  23               		.size	rxfifothresh_callback, .-rxfifothresh_callback
  24               		.section	.text.txlvl_callback,"ax",@progbits
  25               		.balign 2
  26               		.global	txlvl_callback
  27               		.type	txlvl_callback, @function
  28               	txlvl_callback:
  29               	; start of function
  30               	; framesize_regs:     0
  31               	; framesize_locals:   0
  32               	; framesize_outgoing: 0
  33               	; framesize:          0
  34               	; elim ap -> fp       4
  35               	; elim fp -> sp       0
  36               	; saved regs:(none)
  37               		; start of prologue
  38               		; end of prologue
  39 0000 3D40 0080 		MOV.W	#-32768, R13
  40 0004 4E43      		MOV.B	#0, R14
  41 0006 2C00 0000 		MOVA	&rf_thd, R12
  42 000a B013 0000 		CALLA	#chEvtSignalI
  43               		; start of epilogue
  44 000e 1001      		RETA
  45               		.size	txlvl_callback, .-txlvl_callback
  46               		.section	.text.write_cb,"ax",@progbits
  47               		.balign 2
  48               		.global	write_cb
  49               		.type	write_cb, @function
  50               	write_cb:
  51               	; start of function
  52               	; framesize_regs:     8
  53               	; framesize_locals:   0
  54               	; framesize_outgoing: 0
  55               	; framesize:          8
  56               	; elim ap -> fp       12
  57               	; elim fp -> sp       0
GAS LISTING /tmp/cc65NKcs.s 			page 2


  58               	; saved regs: R9 R10
  59               		; start of prologue
  60 0000 1A14      		PUSHM.A	#2, R10
  61               		; end of prologue
  62 0002 2C00 0000 		MOVA	&SX1278D1, R12
  63 0006 3C0C 2200 		MOVA	34(R12), R12
  64 000a CA0C      		MOVA	R12, R10
  65 000c 0018 7AF0 		ANDX.A	#4095, R10
  65      FF0F 
  66 0012 194A 0200 		MOV.W	2(R10), R9
  67 0016 0C14 4018 		PUSHM.A	#1, R12 { POPX.W	R12 { POPX.W	R13 ; move pointer in R12 into reg-pair R12:R13
  67      3C41 4018 
  67      3D41 
  68 0020 B013 0000 		CALLA	#__mspabi_srll_12
  69 0024 0D12 0C12 		PUSH.W	R13 { PUSH.W	R12 { POPM.A	#1, R12
  69      0C16 
  70 002a 4018 0D4C 		MOVX	R12, R13
  71 002e 5C43      		MOV.B	#1, R12
  72 0030 B013 0000 		CALLA	#__mspabi_slli
  73 0034 0CD9      		BIS.W	R9, R12
  74 0036 8A4C 0200 		MOV.W	R12, 2(R10)
  75 003a 8A00 0000 		MOVA	#chEvtSignalI, R10
  76 003e 4018 9292 		CMPX.W	&tf_len, &tf_idx { JNE	.L4
  76      0000 0000 
  76      0020 
  77 0048 C01F B2F0 		ANDX.W	#-4097, &546
  77      FFEF 2202 
  78 0050 6D43      		MOV.B	#2, R13
  79 0052 3C40 2002 		MOV.W	#544, R12
  80 0056 B013 0000 		CALLA	#_pal_lld_disablepadevent
  81 005a 3D40 0020 		MOV.W	#8192, R13
  82 005e 5E43      		MOV.B	#1, R14
  83 0060 2C00 0000 		MOVA	&rf_thd, R12
  84 0064 4A13      		CALLA	R10
  85 0066 4018 8243 		MOVX.W	#0, &tf_idx
  85      0000 
  86               	.L3:
  87               		; start of epilogue
  88 006c 1916      		POPM.A	#2, r10
  89 006e 1001      		RETA
  90               	.L4:
  91 0070 3D40 0020 		MOV.W	#8192, R13
  92 0074 4E43      		MOV.B	#0, R14
  93 0076 2C00 0000 		MOVA	&rf_thd, R12
  94 007a 4A13      		CALLA	R10
  95 007c 8000 0000 		BRA	#.L3
  96               		.size	write_cb, .-write_cb
  97               		.section	.text.elyRFChangeTxSyncS,"ax",@progbits
  98               		.balign 2
  99               		.global	elyRFChangeTxSyncS
 100               		.type	elyRFChangeTxSyncS, @function
 101               	elyRFChangeTxSyncS:
 102               	; start of function
 103               	; framesize_regs:     4
 104               	; framesize_locals:   0
 105               	; framesize_outgoing: 0
 106               	; framesize:          4
GAS LISTING /tmp/cc65NKcs.s 			page 3


 107               	; elim ap -> fp       8
 108               	; elim fp -> sp       0
 109               	; saved regs: R10
 110               		; start of prologue
 111 0000 0A14      		PUSHM.A	#1, R10
 112               		; end of prologue
 113 0002 2A00 0000 		MOVA	&bank0p, R10
 114 0006 EAB2 C400 		BIT.B	#4, 196(R10) { JNE	.L6
 114      0020 
 115 000c 5D4A 1100 		MOV.B	17(R10), R13
 116 0010 4718 0D5D 		rpt	#8 { rlax.w	R13
 117 0014 5E4A 1000 		MOV.B	16(R10), R14
 118 0018 0DDE      		BIS.W	R14, R13
 119 001a 5E4A 1300 		MOV.B	19(R10), R14
 120 001e 4718 0E5E 		rpt	#8 { rlax.w	R14
 121 0022 5A4A 1200 		MOV.B	18(R10), R10
 122 0026 0EDA      		BIS.W	R10, R14
 123 0028 8C4D 1800 		MOV.W	R13, 24(R12)
 124 002c 8C4E 1A00 		MOV.W	R14, 26(R12)
 125 0030 8C00 0000 		MOVA	#SX1278D1, R12
 126 0034 B013 0000 		CALLA	#sx1278SetSync
 127               	.L6:
 128               		; start of epilogue
 129 0038 0A16      		POPM.A	#1, r10
 130 003a 1001      		RETA
 131               		.size	elyRFChangeTxSyncS, .-elyRFChangeTxSyncS
 132               		.section	.text.elyRFDLLClampReg,"ax",@progbits
 133               		.balign 2
 134               		.global	elyRFDLLClampReg
 135               		.type	elyRFDLLClampReg, @function
 136               	elyRFDLLClampReg:
 137               	; start of function
 138               	; framesize_regs:     8
 139               	; framesize_locals:   0
 140               	; framesize_outgoing: 0
 141               	; framesize:          8
 142               	; elim ap -> fp       12
 143               	; elim fp -> sp       0
 144               	; saved regs: R9 R10
 145               		; start of prologue
 146 0000 1A14      		PUSHM.A	#2, R10
 147               		; end of prologue
 148 0002 494C      		MOV.B	R12, R9
 149 0004 4A4D      		MOV.B	R13, R10
 150 0006 4C49      		MOV.B	R9, R12
 151 0008 7C50 4000 		ADD.B	#64, R12
 152 000c 7D40 1400 		MOV.B	#20, R13
 153 0010 4D9C 002C 		CMP.B	R12, R13 { JHS	.L9
 154 0014 8C00 0000 		MOVA	#__func__.5179, R12
 155 0018 B013 0000 		CALLA	#chSysHalt
 156               	.L9:
 157 001c 7990 C3FF 		CMP.B	#-61, R9 { JEQ	.L11
 157      0024 
 158 0022 7D40 C3FF 		MOV.B	#-61, R13
 159 0026 4D99 0028 		CMP.B	R9, R13 { JLO	.L12
 160 002a 7990 C1FF 		CMP.B	#-63, R9 { JEQ	.L13
 160      0024 
GAS LISTING /tmp/cc65NKcs.s 			page 4


 161 0030 7D40 C1FF 		MOV.B	#-63, R13
 162 0034 4D99 0028 		CMP.B	R9, R13 { JLO	.L14
 163 0038 7990 C0FF 		CMP.B	#-64, R9 { JEQ	.L15
 163      0024 
 164               	.L10:
 165 003e 4C4A      		MOV.B	R10, R12
 166               		; start of epilogue
 167 0040 1916      		POPM.A	#2, r10
 168 0042 1001      		RETA
 169               	.L12:
 170 0044 7990 C7FF 		CMP.B	#-57, R9 { JEQ	.L16
 170      0024 
 171 004a 7990 C7FF 		CMP.B	#-57, R9 { JLO	.L10
 171      0028 
 172 0050 7950 3500 		ADD.B	#53, R9
 173 0054 7C42      		MOV.B	#8, R12
 174 0056 4C99 0028 		CMP.B	R9, R12 { JLO	.L10
 175 005a 4018 3AB0 		BITX.W	#16, R10 { JEQ	.L19
 175      1000 0024 
 176 0062 3A90 1000 		CMP.W	#16, R10 { JEQ	.L19
 176      0024 
 177 0068 7C40 88FF 		MOV.B	#-120, R12
 178 006c B013 0000 		CALLA	#elyErrorSignal
 179 0070 7A40 1000 		MOV.B	#16, R10
 180 0074 8000 0000 		BRA	#.L10
 181               	.L15:
 182 0078 7D40 0600 		MOV.B	#6, R13
 183 007c 4D9A 0028 		CMP.B	R10, R13 { JLO	.L10
 184 0080 7C40 88FF 		MOV.B	#-120, R12
 185 0084 B013 0000 		CALLA	#elyErrorSignal
 186 0088 7A40 0700 		MOV.B	#7, R10
 187 008c 8000 0000 		BRA	#.L10
 188               	.L13:
 189 0090 7C40 4000 		MOV.B	#64, R12
 190 0094 4C9A 002C 		CMP.B	R10, R12 { JHS	.L10
 191 0098 7C40 88FF 		MOV.B	#-120, R12
 192 009c B013 0000 		CALLA	#elyErrorSignal
 193 00a0 7A40 4000 		MOV.B	#64, R10
 194 00a4 8000 0000 		BRA	#.L10
 195               	.L14:
 196 00a8 4C4A      		MOV.B	R10, R12
 197 00aa 7CF0 3800 		AND.B	#56, R12
 198 00ae 7C90 3800 		CMP.B	#56, R12 { JNE	.L18
 198      0020 
 199 00b4 7AF0 F700 		AND.B	#247, R10
 200               	.L18:
 201 00b8 4C4A      		MOV.B	R10, R12
 202 00ba 7CF0 0700 		AND.B	#7, R12
 203 00be 7D40 0500 		MOV.B	#5, R13
 204 00c2 4D9C 002C 		CMP.B	R12, R13 { JHS	.L10
 205 00c6 7AF0 FC00 		AND.B	#252, R10
 206 00ca 1AD3      		BIS.W	#1, R10
 207 00cc 8000 0000 		BRA	#.L10
 208               	.L11:
 209 00d0 4C4A      		MOV.B	R10, R12
 210 00d2 7CF0 0300 		AND.B	#3, R12
 211 00d6 7C90 0300 		CMP.B	#3, R12 { JNE	.L10
GAS LISTING /tmp/cc65NKcs.s 			page 5


 211      0020 
 212               	.L16:
 213 00dc 7AF0 FE00 		AND.B	#254, R10
 214 00e0 8000 0000 		BRA	#.L10
 215               	.L19:
 216 00e4 4018 3AB2 		BITX.W	#8, R10 { JEQ	.L20
 216      0024 
 217 00ea 3A92 0024 		CMP.W	#8, R10 { JEQ	.L20
 218 00ee 7C40 88FF 		MOV.B	#-120, R12
 219 00f2 B013 0000 		CALLA	#elyErrorSignal
 220 00f6 7A42      		MOV.B	#8, R10
 221 00f8 8000 0000 		BRA	#.L10
 222               	.L20:
 223 00fc 4018 2AB2 		BITX.W	#4, R10 { JEQ	.L21
 223      0024 
 224 0102 2A92 0024 		CMP.W	#4, R10 { JEQ	.L21
 225 0106 7C40 88FF 		MOV.B	#-120, R12
 226 010a B013 0000 		CALLA	#elyErrorSignal
 227 010e 6A42      		MOV.B	#4, R10
 228 0110 8000 0000 		BRA	#.L10
 229               	.L21:
 230 0114 4018 2AB3 		BITX.W	#2, R10 { JEQ	.L22
 230      0024 
 231 011a 2A93 0024 		CMP.W	#2, R10 { JEQ	.L22
 232 011e 7C40 88FF 		MOV.B	#-120, R12
 233 0122 B013 0000 		CALLA	#elyErrorSignal
 234 0126 6A43      		MOV.B	#2, R10
 235 0128 8000 0000 		BRA	#.L10
 236               	.L22:
 237 012c 4018 1AB3 		BITX.W	#1, R10 { JEQ	.L23
 237      0024 
 238 0132 1A93 0024 		CMP.W	#1, R10 { JEQ	.L23
 239 0136 7C40 88FF 		MOV.B	#-120, R12
 240 013a B013 0000 		CALLA	#elyErrorSignal
 241 013e 5A43      		MOV.B	#1, R10
 242 0140 8000 0000 		BRA	#.L10
 243               	.L23:
 244 0144 7AB0 D0FF 		BIT.B	#-48, R10 { JEQ	.L10
 244      0024 
 245 014a 7C40 88FF 		MOV.B	#-120, R12
 246 014e B013 0000 		CALLA	#elyErrorSignal
 247 0152 4A43      		MOV.B	#0, R10
 248 0154 8000 0000 		BRA	#.L10
 249               		.size	elyRFDLLClampReg, .-elyRFDLLClampReg
 250               		.section	.text.elyRFDLLBuildFrame,"ax",@progbits
 251               		.balign 2
 252               		.global	elyRFDLLBuildFrame
 253               		.type	elyRFDLLBuildFrame, @function
 254               	elyRFDLLBuildFrame:
 255               	; start of function
 256               	; framesize_regs:     28
 257               	; framesize_locals:   0
 258               	; framesize_outgoing: 0
 259               	; framesize:          28
 260               	; elim ap -> fp       32
 261               	; elim fp -> sp       0
 262               	; saved regs: R4 R5 R6 R7 R8 R9 R10
GAS LISTING /tmp/cc65NKcs.s 			page 6


 263               		; start of prologue
 264 0000 6A14      		PUSHM.A	#7, R10
 265               		; end of prologue
 266 0002 8A00 0000 		MOVA	#chEvtSignal, R10
 267 0006 3D40 0004 		MOV.W	#1024, R13
 268 000a 4E43      		MOV.B	#0, R14
 269 000c 2C00 0000 		MOVA	&rf_thd, R12
 270 0010 4A13      		CALLA	R10
 271 0012 2400 0000 		MOVA	&bank0p, R4
 272 0016 5C44 CA00 		MOV.B	202(R4), R12
 273 001a 5D44 C900 		MOV.B	201(R4), R13
 274 001e 8600 0000 		MOVA	#tf_buffer, R6
 275 0022 0F4D      		MOV.W	R13, R15
 276 0024 5F0F      		rrum.w	#4, R15
 277 0026 6FD6      		BIS.B	@R6, R15
 278 0028 0E4C      		MOV.W	R12, R14
 279 002a 4318 0E5E 		rpt	#4 { rlax.w	R14
 280 002e 7EF0 3000 		AND.B	#48, R14
 281 0032 4FDE      		BIS.B	R14, R15
 282 0034 C64F 0000 		MOV.B	R15, @R6
 283 0038 4318 0D5D 		rpt	#4 { rlax.w	R13
 284 003c 5DD6 0100 		BIS.B	1(R6), R13
 285 0040 0C11      		RRA.W	R12
 286 0042 7CF0 0E00 		AND.B	#14, R12
 287 0046 4DDC      		BIS.B	R12, R13
 288 0048 C64D 0100 		MOV.B	R13, 1(R6)
 289 004c 4018 5E42 		MOVX.B	&mcfc, R14
 289      0000 
 290 0052 C64E 0200 		MOV.B	R14, 2(R6)
 291 0056 8C00 0000 		MOVA	#vcfc, R12
 292 005a 6D4C      		MOV.B	@R12, R13
 293 005c C64D 0300 		MOV.B	R13, 3(R6)
 294 0060 5E53      		ADD.B	#1, R14
 295 0062 4018 C24E 		MOVX.B	R14, &mcfc
 295      0000 
 296 0068 5D53      		ADD.B	#1, R13
 297 006a CC4D 0000 		MOV.B	R13, @R12
 298 006e 5C46 0400 		MOV.B	4(R6), R12
 299 0072 7CF0 BFFF 		AND.B	#-65, R12
 300 0076 7CD0 0700 		BIS.B	#7, R12
 301 007a C64C 0400 		MOV.B	R12, 4(R6)
 302 007e 4018 F243 		MOVX.B	#-1, &tf_buffer+5
 302      0000 
 303 0084 4018 C293 		CMPX.B	#0, &state.5199 { JNE	.L78
 303      0000 0020 
 304 008c 3E43      		MOV.W	#-1, R14
 305 008e 8D00 0000 		MOVA	#active_packet.5204, R13
 306 0092 8C00 0000 		MOVA	#rf_mbox, R12
 307 0096 B013 0000 		CALLA	#chMBFetch
 308 009a 9C00 0000 		CMPA	#0, R12 { JEQ	.L60
 308      0024 
 309 00a0 8C00 0000 		MOVA	#__func__.5207, R12
 310 00a4 B013 0000 		CALLA	#chSysHalt
 311               	.L60:
 312 00a8 2C00 0000 		MOVA	&active_packet.5204, R12
 313 00ac B013 0000 		CALLA	#elyNLGetLength
 314 00b0 600C 0000 		MOVA	R12, &pkt_len.5205
GAS LISTING /tmp/cc65NKcs.s 			page 7


 315 00b4 F6F0 F8FF 		AND.B	#-8, 4(R6)
 315      0400 
 316 00ba 4018 C243 		MOVX.B	#0, &tf_buffer+5
 316      0000 
 317 00c0 0018 C243 		MOVX.A	#0, &idle_len.5200
 317      0000 
 318 00c6 0018 C243 		MOVX.A	#0, &idle_idx.5201
 318      0000 
 319 00cc 0018 C243 		MOVX.A	#0, &pkt_idx.5206
 319      0000 
 320 00d2 5943      		MOV.B	#1, R9
 321               	.L59:
 322 00d4 4018 D243 		MOVX.B	#1, &state.5199
 322      0000 
 323 00da 7A40 0600 		MOV.B	#6, R10
 324 00de 8500 0000 		MOVA	#elyNLFreeBufferChecked, R5
 325 00e2 8700 0000 		MOVA	#chMBFetch, R7
 326               	.L61:
 327 00e6 2800 0000 		MOVA	&tf_data_len, R8
 328 00ea DA08 0020 		CMPA	R8, R10 { JNE	.L76
 329 00ee C493 C200 		CMP.B	#0, 194(R4) { JGE	.L77
 329      0034 
 330 00f4 4018 1D42 		MOVX	&tf_len, R13
 330      0000 
 331 00fa 8C00 0000 		MOVA	#tf_buffer, R12
 332 00fe B013 0000 		CALLA	#crcGenSDLP
 333               	.L77:
 334 0102 3D40 0008 		MOV.W	#2048, R13
 335 0106 4E43      		MOV.B	#0, R14
 336 0108 2C00 0000 		MOVA	&rf_thd, R12
 337 010c B013 0000 		CALLA	#chEvtSignal
 338               		; start of epilogue
 339 0110 6416      		POPM.A	#7, r10
 340 0112 1001      		RETA
 341               	.L78:
 342 0114 4943      		MOV.B	#0, R9
 343 0116 8000 0000 		BRA	#.L59
 344               	.L76:
 345 011a 4018 5C42 		MOVX.B	&state.5199, R12
 345      0000 
 346 0120 6C93 0024 		CMP.B	#2, R12 { JEQ	.L63
 347 0124 7C90 0300 		CMP.B	#3, R12 { JEQ	.L64
 347      0024 
 348 012a 5C93 0020 		CMP.B	#1, R12 { JNE	.L82
 349 012e 0018 C293 		CMPX.A	#0, &idle_len.5200 { JEQ	.L66
 349      0000 0024 
 350 0136 4018 F240 		MOVX.B	#3, &state.5199
 350      0300 0000 
 351 013e 8000 0000 		BRA	#.L61
 352               	.L66:
 353 0142 4018 E243 		MOVX.B	#2, &state.5199
 353      0000 
 354 0148 8000 0000 		BRA	#.L61
 355               	.L63:
 356 014c 0018 D292 		CMPX.A	&pkt_len.5205, &pkt_idx.5206 { JNE	.L68
 356      0000 0000 
 356      0020 
GAS LISTING /tmp/cc65NKcs.s 			page 8


 357 0156 0018 C243 		MOVX.A	#0, &pkt_idx.5206
 357      0000 
 358 015c 2C00 0000 		MOVA	&active_packet.5204, R12
 359 0160 4513      		CALLA	R5
 360 0162 0993 0020 		CMP.W	#0, R9 { JNE	.L69
 361 0166 CC0A      		MOVA	R10, R12
 362 0168 AC0F FAFF 		ADDA	#-6, R12
 363 016c 0C14 4018 		PUSHM.A	#1, R12 { POPX.W	R12 { POPX.W	R13 ; move pointer in R12 into reg-pair R12:R13
 363      3C41 4018 
 363      3D41 
 364 0176 B013 0000 		CALLA	#__mspabi_srll_8
 365 017a 0D12 0C12 		PUSH.W	R13 { PUSH.W	R12 { POPM.A	#1, R12
 365      0C16 
 366 0180 C6DC 0400 		BIS.B	R12, 4(R6)
 367 0184 4C4A      		MOV.B	R10, R12
 368 0186 7C50 FAFF 		ADD.B	#-6, R12
 369 018a C64C 0500 		MOV.B	R12, 5(R6)
 370               	.L69:
 371 018e 7E40 6400 		MOV.B	#100, R14
 372 0192 8D00 0000 		MOVA	#active_packet.5204, R13
 373 0196 8C00 0000 		MOVA	#rf_mbox, R12
 374 019a 4713      		CALLA	R7
 375 019c 9C00 0000 		CMPA	#0, R12 { JEQ	.L70
 375      0024 
 376 01a2 2E00 0000 		MOVA	&tf_data_len, R14
 377 01a6 0018 4C4E 		MOVX.A	R14, R12 { SUBX.A	R10, R12
 377      0018 4C8A 
 378 01ae 7D40 0600 		MOV.B	#6, R13
 379 01b2 DD0C 002C 		CMPA	R12, R13 { JHS	.L71
 380 01b6 600C 0000 		MOVA	R12, &idle_len.5200
 381               	.L72:
 382 01ba 2800 0000 		MOVA	&idle_len.5200, R8
 383 01be 8900 0000 		MOVA	#idle_header, R9
 384 01c2 CC08      		MOVA	R8, R12
 385 01c4 AC0F F9FF 		ADDA	#-7, R12
 386 01c8 0C14 4018 		PUSHM.A	#1, R12 { POPX.W	R12 { POPX.W	R13 ; move pointer in R12 into reg-pair R12:R13
 386      3C41 4018 
 386      3D41 
 387 01d2 B013 0000 		CALLA	#__mspabi_srll_8
 388 01d6 0D12 0C12 		PUSH.W	R13 { PUSH.W	R12 { POPM.A	#1, R12
 388      0C16 
 389 01dc C94C 0400 		MOV.B	R12, 4(R9)
 390 01e0 7850 F9FF 		ADD.B	#-7, R8
 391 01e4 C948 0500 		MOV.B	R8, 5(R9)
 392 01e8 0018 C243 		MOVX.A	#0, &idle_idx.5201
 392      0000 
 393 01ee 4018 F240 		MOVX.B	#3, &state.5199
 393      0300 0000 
 394 01f6 5943      		MOV.B	#1, R9
 395 01f8 8000 0000 		BRA	#.L61
 396               	.L71:
 397 01fc EE0C      		ADDA	R12, R14
 398 01fe 600E 0000 		MOVA	R14, &idle_len.5200
 399 0202 8000 0000 		BRA	#.L72
 400               	.L70:
 401 0206 2C00 0000 		MOVA	&active_packet.5204, R12
 402 020a B013 0000 		CALLA	#elyNLGetLength
GAS LISTING /tmp/cc65NKcs.s 			page 9


 403 020e 600C 0000 		MOVA	R12, &pkt_len.5205
 404 0212 5943      		MOV.B	#1, R9
 405               	.L68:
 406 0214 2C00 0000 		MOVA	&pkt_idx.5206, R12
 407 0218 CD0C      		MOVA	R12, R13
 408 021a AD00 0100 		ADDA	#1, R13
 409 021e 600D 0000 		MOVA	R13, &pkt_idx.5206
 410 0222 0018 5C52 		ADDX.A	&active_packet.5204, R12
 410      0000 
 411 0228 4018 EA4C 		MOVX.B	@R12, tf_buffer(R10)
 411      0000 
 412 022e AA00 0100 		ADDA	#1, R10
 413 0232 8000 0000 		BRA	#.L61
 414               	.L64:
 415 0236 2C00 0000 		MOVA	&idle_idx.5201, R12
 416 023a CE0A      		MOVA	R10, R14
 417 023c AE00 0100 		ADDA	#1, R14
 418 0240 AA00 0000 		ADDA	#tf_buffer, R10
 419 0244 7D40 0500 		MOV.B	#5, R13
 420 0248 DD0C 0028 		CMPA	R12, R13 { JLO	.L73
 421 024c CD0C      		MOVA	R12, R13
 422 024e AD00 0100 		ADDA	#1, R13
 423 0252 600D 0000 		MOVA	R13, &idle_idx.5201
 424 0256 4018 DA4C 		MOVX.B	idle_header(R12), @R10
 424      0000 0000 
 425               	.L83:
 426 025e CA0E      		MOVA	R14, R10
 427 0260 0018 D292 		CMPX.A	&idle_len.5200, &idle_idx.5201 { JNE	.L61
 427      0000 0000 
 427      0020 
 428 026a DE08 0024 		CMPA	R8, R14 { JEQ	.L75
 429 026e 8C00 0000 		MOVA	#__func__.5207, R12
 430 0272 B013 0000 		CALLA	#chSysHalt
 431               	.L75:
 432 0276 0018 C243 		MOVX.A	#0, &idle_len.5200
 432      0000 
 433 027c 3E43      		MOV.W	#-1, R14
 434 027e 3C40 0004 		MOV.W	#1024, R12
 435 0282 4D43      		MOV.B	#0, R13
 436 0284 B013 0000 		CALLA	#chEvtWaitAnyTimeout
 437 0288 4018 C243 		MOVX.B	#0, &state.5199
 437      0000 
 438 028e 8000 0000 		BRA	#.L61
 439               	.L73:
 440 0292 FA40 AAFF 		MOV.B	#-86, @R10
 440      0000 
 441 0298 AC00 0100 		ADDA	#1, R12
 442 029c 600C 0000 		MOVA	R12, &idle_idx.5201
 443 02a0 8000 0000 		BRA	#.L83
 444               	.L82:
 445 02a4 8C00 0000 		MOVA	#__func__.5207, R12
 446 02a8 B013 0000 		CALLA	#chSysHalt
 447 02ac 8000 0000 		BRA	#.L61
 448               		.size	elyRFDLLBuildFrame, .-elyRFDLLBuildFrame
 449               		.section	.text.packet_callback,"ax",@progbits
 450               		.balign 2
 451               		.global	packet_callback
GAS LISTING /tmp/cc65NKcs.s 			page 10


 452               		.type	packet_callback, @function
 453               	packet_callback:
 454               	; start of function
 455               	; framesize_regs:     12
 456               	; framesize_locals:   0
 457               	; framesize_outgoing: 0
 458               	; framesize:          12
 459               	; elim ap -> fp       16
 460               	; elim fp -> sp       0
 461               	; saved regs: R6 R8 R10
 462               		; start of prologue
 463 0000 0A14      		PUSHM.A	#1, R10
 464 0002 0814      		PUSHM.A	#1, R8
 465 0004 0614      		PUSHM.A	#1, R6
 466               		; end of prologue
 467 0006 CA0C      		MOVA	R12, R10
 468 0008 4018 1D52 		ADDX.W	&rx_idx, R13
 468      0000 
 469 000e 4018 824D 		MOVX.W	R13, &rx_idx
 469      0000 
 470 0014 4018 1C42 		MOVX.W	&rx_pkt_len, R12
 470      0000 
 471 001a 8600 0000 		MOVA	#sx1212ReceiveI, R6
 472 001e 8800 0000 		MOVA	#chEvtSignalI, R8
 473 0022 0D9C 002C 		CMP.W	R12, R13 { JHS	.L85
 474 0026 7D40 3F00 		MOV.B	#63, R13
 475 002a 0D9C 002C 		CMP.W	R12, R13 { JHS	.L86
 476 002e 7C40 3000 		MOV.B	#48, R12
 477               	.L86:
 478 0032 4018 C24C 		MOVX.B	R12, &curr_threshold
 478      0000 
 479 0038 8E00 0000 		MOVA	#rxfifothresh_callback, R14
 480 003c 4018 0D4C 		MOVX	R12, R13
 481 0040 CC0A      		MOVA	R10, R12
 482 0042 4613      		CALLA	R6
 483 0044 3D40 0020 		MOV.W	#8192, R13
 484               	.L88:
 485 0048 4E43      		MOV.B	#0, R14
 486 004a 2C00 0000 		MOVA	&rf_thd, R12
 487 004e 4813      		CALLA	R8
 488               		; start of epilogue
 489 0050 0616      		POPM.A	#1, r6
 490 0052 0816      		POPM.A	#1, r8
 491 0054 0A16      		POPM.A	#1, r10
 492 0056 1001      		RETA
 493               	.L85:
 494 0058 2C00 0000 		MOVA	&rx_active_buffer, R12
 495 005c B013 0000 		CALLA	#elyNLRouteRFI
 496 0060 CC0A      		MOVA	R10, R12
 497 0062 B013 0000 		CALLA	#sx1212StopReceiveI
 498 0066 8E00 0000 		MOVA	#rxfifothresh_callback, R14
 499 006a 7D40 0500 		MOV.B	#5, R13
 500 006e CC0A      		MOVA	R10, R12
 501 0070 4613      		CALLA	R6
 502 0072 3D40 0060 		MOV.W	#24576, R13
 503 0076 8000 0000 		BRA	#.L88
 504               		.size	packet_callback, .-packet_callback
GAS LISTING /tmp/cc65NKcs.s 			page 11


 505               		.section	.text.header_callback,"ax",@progbits
 506               		.balign 2
 507               		.global	header_callback
 508               		.type	header_callback, @function
 509               	header_callback:
 510               	; start of function
 511               	; framesize_regs:     4
 512               	; framesize_locals:   0
 513               	; framesize_outgoing: 0
 514               	; framesize:          4
 515               	; elim ap -> fp       8
 516               	; elim fp -> sp       0
 517               	; saved regs: R10
 518               		; start of prologue
 519 0000 0A14      		PUSHM.A	#1, R10
 520               		; end of prologue
 521 0002 CA0C      		MOVA	R12, R10
 522 0004 9D00 0500 		CMPA	#5, R13 { JEQ	.L90
 522      0024 
 523 000a 8C00 0000 		MOVA	#__func__.5230, R12
 524 000e B013 0000 		CALLA	#chSysHalt
 525               	.L90:
 526 0012 8E00 0000 		MOVA	#tc_hdr_buff, R14
 527 0016 5C4E 0200 		MOV.B	2(R14), R12
 528 001a 4718 0C5C 		rpt	#8 { rlax.w	R12
 529 001e 3CF0 0003 		AND.W	#768, R12
 530 0022 5E4E 0300 		MOV.B	3(R14), R14
 531 0026 0CDE      		BIS.W	R14, R12
 532 0028 3C50 FBFF 		ADD.W	#-5, R12
 533 002c 4018 824C 		MOVX.W	R12, &rx_pkt_len
 533      0000 
 534 0032 B013 0000 		CALLA	#elyNLGetBufferI
 535 0036 600C 0000 		MOVA	R12, &rx_active_buffer
 536 003a 4018 1D42 		MOVX.W	&rx_pkt_len, R13
 536      0000 
 537 0040 7C40 3F00 		MOV.B	#63, R12
 538 0044 0C9D 002C 		CMP.W	R13, R12 { JHS	.L91
 539 0048 7D40 3000 		MOV.B	#48, R13
 540               	.L91:
 541 004c 4018 C24D 		MOVX.B	R13, &curr_threshold
 541      0000 
 542 0052 4018 8243 		MOVX.W	#0, &rx_idx
 542      0000 
 543 0058 8E00 0000 		MOVA	#rxfifothresh_callback, R14
 544 005c 4018 0D4D 		MOVX	R13, R13
 545 0060 CC0A      		MOVA	R10, R12
 546 0062 B013 0000 		CALLA	#sx1212ReceiveI
 547 0066 3D40 0020 		MOV.W	#8192, R13
 548 006a 4E43      		MOV.B	#0, R14
 549 006c 2C00 0000 		MOVA	&rf_thd, R12
 550 0070 B013 0000 		CALLA	#chEvtSignalI
 551 0074 4018 D243 		MOVX.B	#1, &dll_state
 551      0000 
 552               		; start of epilogue
 553 007a 0A16      		POPM.A	#1, r10
 554 007c 1001      		RETA
 555               		.size	header_callback, .-header_callback
GAS LISTING /tmp/cc65NKcs.s 			page 12


 556               		.section	.text.elyRFDLLRxInit,"ax",@progbits
 557               		.balign 2
 558               		.global	elyRFDLLRxInit
 559               		.type	elyRFDLLRxInit, @function
 560               	elyRFDLLRxInit:
 561               	; start of function
 562               	; framesize_regs:     4
 563               	; framesize_locals:   0
 564               	; framesize_outgoing: 0
 565               	; framesize:          4
 566               	; elim ap -> fp       8
 567               	; elim fp -> sp       0
 568               	; saved regs: R10
 569               		; start of prologue
 570 0000 0A14      		PUSHM.A	#1, R10
 571               		; end of prologue
 572 0002 CA0C      		MOVA	R12, R10
 573 0004 B013 0000 		CALLA	#sx1212StopReceive
 574 0008 8E00 0000 		MOVA	#rxfifothresh_callback, R14
 575 000c 7D40 0500 		MOV.B	#5, R13
 576 0010 CC0A      		MOVA	R10, R12
 577 0012 B013 0000 		CALLA	#sx1212StartReceive
 578 0016 4018 C243 		MOVX.B	#0, &dll_state
 578      0000 
 579 001c 3D40 0060 		MOV.W	#24576, R13
 580 0020 4E43      		MOV.B	#0, R14
 581 0022 2C00 0000 		MOVA	&rf_thd, R12
 582 0026 B013 0000 		CALLA	#chEvtSignal
 583               		; start of epilogue
 584 002a 0A16      		POPM.A	#1, r10
 585 002c 1001      		RETA
 586               		.size	elyRFDLLRxInit, .-elyRFDLLRxInit
 587               		.section	.text.elyRFDLLHandleRxFifo,"ax",@progbits
 588               		.balign 2
 589               		.global	elyRFDLLHandleRxFifo
 590               		.type	elyRFDLLHandleRxFifo, @function
 591               	elyRFDLLHandleRxFifo:
 592               	; start of function
 593               	; framesize_regs:     12
 594               	; framesize_locals:   0
 595               	; framesize_outgoing: 0
 596               	; framesize:          12
 597               	; elim ap -> fp       16
 598               	; elim fp -> sp       0
 599               	; saved regs: R6 R8 R10
 600               		; start of prologue
 601 0000 0A14      		PUSHM.A	#1, R10
 602 0002 0814      		PUSHM.A	#1, R8
 603 0004 0614      		PUSHM.A	#1, R6
 604               		; end of prologue
 605 0006 CA0C      		MOVA	R12, R10
 606 0008 8600 0000 		MOVA	#sx1212FifoRead, R6
 607 000c 4018 C293 		CMPX.B	#0, &dll_state { JNE	.L97
 607      0000 0020 
 608 0014 8800 0000 		MOVA	#tc_hdr_buff, R8
 609 0018 CE08      		MOVA	R8, R14
 610 001a 7D40 0500 		MOV.B	#5, R13
GAS LISTING /tmp/cc65NKcs.s 			page 13


 611 001e 4613      		CALLA	R6
 612 0020 2C00 0000 		MOVA	&bank0p, R12
 613 0024 6D48      		MOV.B	@R8, R13
 614 0026 5DEC CA00 		XOR.B	202(R12), R13
 615 002a 3DB0 0300 		BIT.W	#3, R13 { JNE	.L98
 615      0020 
 616 0030 4018 D29C 		CMPX.B	201(R12), &tc_hdr_buff+1 { JEQ	.L99
 616      C900 0000 
 616      0024 
 617               	.L98:
 618 003a CC0A      		MOVA	R10, R12
 619 003c B013 0000 		CALLA	#elyRFDLLRxInit
 620               	.L96:
 621               		; start of epilogue
 622 0040 0616      		POPM.A	#1, r6
 623 0042 0816      		POPM.A	#1, r8
 624 0044 0A16      		POPM.A	#1, r10
 625 0046 1001      		RETA
 626               	.L99:
 627 0048 5C48 0200 		MOV.B	2(R8), R12
 628 004c 4718 0C5C 		rpt	#8 { rlax.w	R12
 629 0050 3CF0 0003 		AND.W	#768, R12
 630 0054 5848 0300 		MOV.B	3(R8), R8
 631 0058 0CD8      		BIS.W	R8, R12
 632 005a 3C50 FCFF 		ADD.W	#-4, R12
 633 005e 4018 824C 		MOVX.W	R12, &rx_pkt_len
 633      0000 
 634               	 ; 347 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 635 0064 32C2 0343 		dint { nop
 636               	 ; 0 "" 2
 637               	 ; 348 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 638 0068 0343      		nop
 639               	 ; 0 "" 2
 640 006a B013 0000 		CALLA	#elyNLGetBufferI
 641 006e 600C 0000 		MOVA	R12, &rx_active_buffer
 642 0072 9C00 0000 		CMPA	#0, R12 { JEQ	.L98
 642      0024 
 643 0078 4018 1D42 		MOVX.W	&rx_pkt_len, R13
 643      0000 
 644 007e 7C40 3F00 		MOV.B	#63, R12
 645 0082 0C9D 002C 		CMP.W	R13, R12 { JHS	.L101
 646 0086 7D40 2000 		MOV.B	#32, R13
 647               	.L101:
 648 008a 4018 C24D 		MOVX.B	R13, &curr_threshold
 648      0000 
 649 0090 4018 8243 		MOVX.W	#0, &rx_idx
 649      0000 
 650 0096 8E00 0000 		MOVA	#rxfifothresh_callback, R14
 651 009a 4018 0D4D 		MOVX	R13, R13
 652 009e CC0A      		MOVA	R10, R12
 653 00a0 B013 0000 		CALLA	#sx1212ReceiveI
 654 00a4 3D40 0020 		MOV.W	#8192, R13
 655 00a8 4E43      		MOV.B	#0, R14
 656 00aa 2C00 0000 		MOVA	&rf_thd, R12
 657 00ae B013 0000 		CALLA	#chEvtSignalI
 658 00b2 4018 D243 		MOVX.B	#1, &dll_state
 658      0000 
GAS LISTING /tmp/cc65NKcs.s 			page 14


 659               	.L107:
 660               	 ; 355 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 661 00b8 0343      		nop
 662               	 ; 0 "" 2
 663               	 ; 356 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 664 00ba 0343 32D2 		nop { eint { nop
 664      0343 
 665               	 ; 0 "" 2
 666 00c0 8000 0000 		BRA	#.L96
 667               	.L97:
 668 00c4 4018 1E42 		MOVX	&rx_idx, R14
 668      0000 
 669 00ca 0018 5E52 		ADDX.A	&rx_active_buffer, R14
 669      0000 
 670 00d0 4018 5F42 		MOVX.B	&curr_threshold, R15
 670      0000 
 671 00d6 4018 0D4F 		MOVX	R15, R13
 672 00da 4613      		CALLA	R6
 673 00dc 4018 5C42 		MOVX.B	&curr_threshold, R12
 673      0000 
 674 00e2 4018 1C52 		ADDX.W	&rx_idx, R12
 674      0000 
 675 00e8 4018 824C 		MOVX.W	R12, &rx_idx
 675      0000 
 676 00ee 4018 1D42 		MOVX.W	&rx_pkt_len, R13
 676      0000 
 677 00f4 0C9D 002C 		CMP.W	R13, R12 { JHS	.L102
 678               	 ; 347 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 679 00f8 32C2 0343 		dint { nop
 680               	 ; 0 "" 2
 681               	 ; 348 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 682 00fc 0343      		nop
 683               	 ; 0 "" 2
 684 00fe 0D8C      		SUB.W	R12, R13
 685 0100 7C40 3F00 		MOV.B	#63, R12
 686 0104 0C9D 002C 		CMP.W	R13, R12 { JHS	.L103
 687 0108 7D40 3000 		MOV.B	#48, R13
 688               	.L103:
 689 010c 4018 C24D 		MOVX.B	R13, &curr_threshold
 689      0000 
 690 0112 8E00 0000 		MOVA	#rxfifothresh_callback, R14
 691 0116 4018 0D4D 		MOVX	R13, R13
 692 011a CC0A      		MOVA	R10, R12
 693 011c B013 0000 		CALLA	#sx1212ReceiveI
 694 0120 3D40 0020 		MOV.W	#8192, R13
 695 0124 4E43      		MOV.B	#0, R14
 696 0126 2C00 0000 		MOVA	&rf_thd, R12
 697 012a B013 0000 		CALLA	#chEvtSignalI
 698 012e 8000 0000 		BRA	#.L107
 699               	.L102:
 700 0132 2C00 0000 		MOVA	&rx_active_buffer, R12
 701 0136 B013 0000 		CALLA	#elyNLRouteRF
 702 013a CC0A      		MOVA	R10, R12
 703 013c B013 0000 		CALLA	#elyRFDLLRxInit
 704 0140 3D40 0020 		MOV.W	#8192, R13
 705 0144 4E43      		MOV.B	#0, R14
 706 0146 2C00 0000 		MOVA	&rf_thd, R12
GAS LISTING /tmp/cc65NKcs.s 			page 15


 707 014a B013 0000 		CALLA	#chEvtSignal
 708 014e 8000 0000 		BRA	#.L96
 709               		.size	elyRFDLLHandleRxFifo, .-elyRFDLLHandleRxFifo
 710               		.section	.text.elyRFDLLTxInit,"ax",@progbits
 711               		.balign 2
 712               		.global	elyRFDLLTxInit
 713               		.type	elyRFDLLTxInit, @function
 714               	elyRFDLLTxInit:
 715               	; start of function
 716               	; framesize_regs:     0
 717               	; framesize_locals:   0
 718               	; framesize_outgoing: 0
 719               	; framesize:          0
 720               	; elim ap -> fp       4
 721               	; elim fp -> sp       0
 722               	; saved regs:(none)
 723               		; start of prologue
 724               		; end of prologue
 725               	 ; 347 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 726 0000 32C2 0343 		dint { nop
 727               	 ; 0 "" 2
 728               	 ; 348 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 729 0004 0343      		nop
 730               	 ; 0 "" 2
 731 0006 2E00 0000 		MOVA	&bank0p, R14
 732 000a 5D4E C100 		MOV.B	193(R14), R13
 733 000e 4718 0D5D 		rpt	#8 { rlax.w	R13
 734 0012 5F4E C000 		MOV.B	192(R14), R15
 735 0016 0DDF      		BIS.W	R15, R13
 736 0018 4018 824D 		MOVX.W	R13, &tf_len
 736      0000 
 737 001e 5E4E C400 		MOV.B	196(R14), R14
 738 0022 4018 3EB0 		BITX.W	#32, R14 { JEQ	.L109
 738      2000 0024 
 739 002a 3D50 FCFF 		ADD.W	#-4, R13
 740               	.L109:
 741 002e 0018 C24D 		MOVX.A	R13, &tf_data_len
 741      0000 
 742 0034 4018 2EB2 		BITX.W	#4, R14 { JEQ	.L111
 742      0024 
 743 003a 3D40 1DFC 		MOV.W	#-995, R13
 744 003e 3E40 CF1A 		MOV.W	#6863, R14
 745 0042 B013 0000 		CALLA	#sx1278SetSync
 746               	.L111:
 747               	 ; 355 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 748 0046 0343      		nop
 749               	 ; 0 "" 2
 750               	 ; 356 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 751 0048 0343 32D2 		nop { eint { nop
 751      0343 
 752               	 ; 0 "" 2
 753               		; start of epilogue
 754 004e 1001      		RETA
 755               		.size	elyRFDLLTxInit, .-elyRFDLLTxInit
 756               		.section	.text.elyRFDLLInitiateTransmit,"ax",@progbits
 757               		.balign 2
 758               		.global	elyRFDLLInitiateTransmit
GAS LISTING /tmp/cc65NKcs.s 			page 16


 759               		.type	elyRFDLLInitiateTransmit, @function
 760               	elyRFDLLInitiateTransmit:
 761               	; start of function
 762               	; framesize_regs:     0
 763               	; framesize_locals:   0
 764               	; framesize_outgoing: 4
 765               	; framesize:          4
 766               	; elim ap -> fp       4
 767               	; elim fp -> sp       4
 768               	; saved regs:(none)
 769               		; start of prologue
 770 0000 B100 0400 		SUBA	#4, R1
 771               		; end of prologue
 772 0004 4018 B2D0 		BISX.W	#4096, &546
 772      0010 2202 
 773 000c 4018 1D42 		MOVX	&tf_len, R13
 773      0000 
 774 0012 0018 F140 		MOVX.A	#write_cb, @R1
 774      0000 0000 
 775 001a 8F00 0000 		MOVA	#txlvl_callback, R15
 776 001e 8E00 0000 		MOVA	#tf_buffer, R14
 777 0022 B013 0000 		CALLA	#sx1278StartTransmit
 778 0026 4018 824C 		MOVX.W	R12, &tf_idx
 778      0000 
 779               		; start of epilogue
 780 002c A100 0400 		ADDA	#4, R1
 781 0030 1001      		RETA
 782               		.size	elyRFDLLInitiateTransmit, .-elyRFDLLInitiateTransmit
 783               		.section	.text.elyRFDLLHandleTxFifo,"ax",@progbits
 784               		.balign 2
 785               		.global	elyRFDLLHandleTxFifo
 786               		.type	elyRFDLLHandleTxFifo, @function
 787               	elyRFDLLHandleTxFifo:
 788               	; start of function
 789               	; framesize_regs:     4
 790               	; framesize_locals:   0
 791               	; framesize_outgoing: 0
 792               	; framesize:          4
 793               	; elim ap -> fp       8
 794               	; elim fp -> sp       0
 795               	; saved regs: R10
 796               		; start of prologue
 797 0000 0A14      		PUSHM.A	#1, R10
 798               		; end of prologue
 799 0002 4018 1E42 		MOVX.W	&tf_idx, R14
 799      0000 
 800 0008 4018 1A42 		MOVX.W	&tf_len, R10
 800      0000 
 801 000e 0A8E      		SUB.W	R14, R10
 802 0010 7D40 1F00 		MOV.B	#31, R13
 803 0014 0D9A 002C 		CMP.W	R10, R13 { JHS	.L117
 804 0018 0A4D      		MOV.W	R13, R10
 805               	.L117:
 806               	 ; 347 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 807 001a 32C2 0343 		dint { nop
 808               	 ; 0 "" 2
 809               	 ; 348 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
GAS LISTING /tmp/cc65NKcs.s 			page 17


 810 001e 0343      		nop
 811               	 ; 0 "" 2
 812 0020 4018 0E4E 		MOVX	R14, R14
 813 0024 8F00 0000 		MOVA	#write_cb, R15
 814 0028 AE00 0000 		ADDA	#tf_buffer, R14
 815 002c 4018 0D4A 		MOVX	R10, R13
 816 0030 B013 0000 		CALLA	#sx1278FifoWriteAsyncS
 817 0034 4018 825A 		ADDX.W	R10, &tf_idx
 817      0000 
 818               	 ; 355 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 819 003a 0343      		nop
 820               	 ; 0 "" 2
 821               	 ; 356 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 822 003c 0343 32D2 		nop { eint { nop
 822      0343 
 823               	 ; 0 "" 2
 824               		; start of epilogue
 825 0042 0A16      		POPM.A	#1, r10
 826 0044 1001      		RETA
 827               		.size	elyRFDLLHandleTxFifo, .-elyRFDLLHandleTxFifo
 828               		.section	.upper.rodata,"a",@progbits
 829               		.type	__func__.5230, @object
 830               		.size	__func__.5230, 16
 831               	__func__.5230:
 832 0000 6865 6164 		.string	"header_callback"
 832      6572 5F63 
 832      616C 6C62 
 832      6163 6B00 
 833               		.local	pkt_idx.5206
 834               		.comm	pkt_idx.5206,4,2
 835               		.local	idle_idx.5201
 836               		.comm	idle_idx.5201,4,2
 837               		.local	idle_len.5200
 838               		.comm	idle_len.5200,4,2
 839               		.local	pkt_len.5205
 840               		.comm	pkt_len.5205,4,2
 841               		.type	__func__.5207, @object
 842               		.size	__func__.5207, 19
 843               	__func__.5207:
 844 0010 656C 7952 		.string	"elyRFDLLBuildFrame"
 844      4644 4C4C 
 844      4275 696C 
 844      6446 7261 
 844      6D65 00
 845               		.local	active_packet.5204
 846               		.comm	active_packet.5204,4,2
 847               		.local	state.5199
 848               		.comm	state.5199,1,1
 849               		.type	__func__.5179, @object
 850               		.size	__func__.5179, 17
 851               	__func__.5179:
 852 0023 656C 7952 		.string	"elyRFDLLClampReg"
 852      4644 4C4C 
 852      436C 616D 
 852      7052 6567 
 852      00
 853               		.global	DLLRxPktCfg
GAS LISTING /tmp/cc65NKcs.s 			page 18


 854               		.section	.persistent,"aw"
 855               		.type	DLLRxPktCfg, @object
 856               		.size	DLLRxPktCfg, 1
 857               	DLLRxPktCfg:
 858 0000 01        		.byte	1
 859               		.global	DLLTxPktCfg
 860               		.type	DLLTxPktCfg, @object
 861               		.size	DLLTxPktCfg, 1
 862               	DLLTxPktCfg:
 863 0001 A2        		.byte	162
 864               		.type	idle_header, @object
 865               		.size	idle_header, 7
 866               	idle_header:
 867 0002 03        		.byte	3
 868 0003 FF        		.byte	-1
 869 0004 C0        		.byte	-64
 870 0005 00        		.byte	0
 871 0006 00        		.byte	0
 872 0007 00        		.byte	0
 873 0008 AA        		.byte	-86
 874               		.global	b_frames
 875               		.type	b_frames, @object
 876               		.size	b_frames, 1
 877               	b_frames:
 878 0009 00        		.zero	1
 879               		.global	a_frames
 880               		.type	a_frames, @object
 881               		.size	a_frames, 1
 882               	a_frames:
 883 000a 00        		.zero	1
 884               		.global	double_frames
 885               		.type	double_frames, @object
 886               		.size	double_frames, 1
 887               	double_frames:
 888 000b 00        		.zero	1
 889               		.global	missed_frames
 890               		.type	missed_frames, @object
 891               		.size	missed_frames, 1
 892               	missed_frames:
 893 000c 00        		.zero	1
 894               		.global	seq_no
 895               		.type	seq_no, @object
 896               		.size	seq_no, 1
 897               	seq_no:
 898 000d 00        		.zero	1
 899               		.global	fecf
 900               		.type	fecf, @object
 901               		.size	fecf, 1
 902               	fecf:
 903 000e 00        		.zero	1
 904               		.global	fec
 905               		.type	fec, @object
 906               		.size	fec, 1
 907               	fec:
 908 000f 00        		.zero	1
 909               		.type	curr_threshold, @object
 910               		.size	curr_threshold, 1
GAS LISTING /tmp/cc65NKcs.s 			page 19


 911               	curr_threshold:
 912 0010 00        		.zero	1
 913 0011 00        		.balign 2
 914               		.type	rx_pkt_len, @object
 915               		.size	rx_pkt_len, 2
 916               	rx_pkt_len:
 917 0012 0000      		.zero	2
 918               		.balign 2
 919               		.type	rx_idx, @object
 920               		.size	rx_idx, 2
 921               	rx_idx:
 922 0014 0000      		.zero	2
 923               		.balign 2
 924               		.type	rx_active_buffer, @object
 925               		.size	rx_active_buffer, 4
 926               	rx_active_buffer:
 927 0016 0000 0000 		.zero	4
 928               		.type	tc_hdr_buff, @object
 929               		.size	tc_hdr_buff, 5
 930               	tc_hdr_buff:
 931 001a 0000 0000 		.zero	5
 931      00
 932               		.type	dll_state, @object
 933               		.size	dll_state, 1
 934               	dll_state:
 935 001f 00        		.zero	1
 936               		.type	vcfc, @object
 937               		.size	vcfc, 2
 938               	vcfc:
 939 0020 0000      		.zero	2
 940               		.type	mcfc, @object
 941               		.size	mcfc, 1
 942               	mcfc:
 943 0022 00        		.zero	1
 944 0023 00        		.balign 2
 945               		.type	tf_data_len, @object
 946               		.size	tf_data_len, 4
 947               	tf_data_len:
 948 0024 0008 0000 		.long	2048
 949               		.balign 2
 950               		.type	tf_idx, @object
 951               		.size	tf_idx, 2
 952               	tf_idx:
 953 0028 0000      		.zero	2
 954               		.balign 2
 955               		.type	tf_len, @object
 956               		.size	tf_len, 2
 957               	tf_len:
 958 002a 0008      		.short	2048
 959               		.section	.upper.data,"aw",@progbits
 960               		.type	tf_buffer, @object
 961               		.size	tf_buffer, 2048
 962               	tf_buffer:
 963 0000 02        		.byte	2
 964 0001 F0        		.byte	-16
 965 0002 00        		.byte	0
 966 0003 00        		.byte	0
GAS LISTING /tmp/cc65NKcs.s 			page 20


 967 0004 18        		.byte	24
 968 0005 00        		.byte	0
 969 0006 0000 0000 		.zero	2042
 969      0000 0000 
 969      0000 0000 
 969      0000 0000 
 969      0000 0000 
 970               		.ident	"GCC: (SOMNIUM Technologies Limited - msp430-gcc 6.2.1.16) 6.2.1 20161212"
GAS LISTING /tmp/cc65NKcs.s 			page 21


DEFINED SYMBOLS
                            *ABS*:0000000000000000 sdlp.c
     /tmp/cc65NKcs.s:6      .text.rxfifothresh_callback:0000000000000000 rxfifothresh_callback
     /tmp/cc65NKcs.s:28     .text.txlvl_callback:0000000000000000 txlvl_callback
     /tmp/cc65NKcs.s:50     .text.write_cb:0000000000000000 write_cb
     /tmp/cc65NKcs.s:957    .persistent:000000000000002a tf_len
     /tmp/cc65NKcs.s:952    .persistent:0000000000000028 tf_idx
     /tmp/cc65NKcs.s:101    .text.elyRFChangeTxSyncS:0000000000000000 elyRFChangeTxSyncS
     /tmp/cc65NKcs.s:136    .text.elyRFDLLClampReg:0000000000000000 elyRFDLLClampReg
     /tmp/cc65NKcs.s:851    .upper.rodata:0000000000000023 __func__.5179
     /tmp/cc65NKcs.s:254    .text.elyRFDLLBuildFrame:0000000000000000 elyRFDLLBuildFrame
     /tmp/cc65NKcs.s:962    .upper.data:0000000000000000 tf_buffer
     /tmp/cc65NKcs.s:942    .persistent:0000000000000022 mcfc
     /tmp/cc65NKcs.s:938    .persistent:0000000000000020 vcfc
     /tmp/cc65NKcs.s:846    .bss:0000000000000014 state.5199
     /tmp/cc65NKcs.s:846    .bss:0000000000000010 active_packet.5204
     /tmp/cc65NKcs.s:843    .upper.rodata:0000000000000010 __func__.5207
     /tmp/cc65NKcs.s:840    .bss:000000000000000c pkt_len.5205
     /tmp/cc65NKcs.s:838    .bss:0000000000000008 idle_len.5200
     /tmp/cc65NKcs.s:836    .bss:0000000000000004 idle_idx.5201
     /tmp/cc65NKcs.s:834    .bss:0000000000000000 pkt_idx.5206
     /tmp/cc65NKcs.s:947    .persistent:0000000000000024 tf_data_len
     /tmp/cc65NKcs.s:866    .persistent:0000000000000002 idle_header
     /tmp/cc65NKcs.s:453    .text.packet_callback:0000000000000000 packet_callback
     /tmp/cc65NKcs.s:921    .persistent:0000000000000014 rx_idx
     /tmp/cc65NKcs.s:916    .persistent:0000000000000012 rx_pkt_len
     /tmp/cc65NKcs.s:911    .persistent:0000000000000010 curr_threshold
     /tmp/cc65NKcs.s:926    .persistent:0000000000000016 rx_active_buffer
     /tmp/cc65NKcs.s:509    .text.header_callback:0000000000000000 header_callback
     /tmp/cc65NKcs.s:831    .upper.rodata:0000000000000000 __func__.5230
     /tmp/cc65NKcs.s:930    .persistent:000000000000001a tc_hdr_buff
     /tmp/cc65NKcs.s:934    .persistent:000000000000001f dll_state
     /tmp/cc65NKcs.s:560    .text.elyRFDLLRxInit:0000000000000000 elyRFDLLRxInit
     /tmp/cc65NKcs.s:591    .text.elyRFDLLHandleRxFifo:0000000000000000 elyRFDLLHandleRxFifo
     /tmp/cc65NKcs.s:714    .text.elyRFDLLTxInit:0000000000000000 elyRFDLLTxInit
     /tmp/cc65NKcs.s:760    .text.elyRFDLLInitiateTransmit:0000000000000000 elyRFDLLInitiateTransmit
     /tmp/cc65NKcs.s:787    .text.elyRFDLLHandleTxFifo:0000000000000000 elyRFDLLHandleTxFifo
     /tmp/cc65NKcs.s:857    .persistent:0000000000000000 DLLRxPktCfg
     /tmp/cc65NKcs.s:862    .persistent:0000000000000001 DLLTxPktCfg
     /tmp/cc65NKcs.s:877    .persistent:0000000000000009 b_frames
     /tmp/cc65NKcs.s:882    .persistent:000000000000000a a_frames
     /tmp/cc65NKcs.s:887    .persistent:000000000000000b double_frames
     /tmp/cc65NKcs.s:892    .persistent:000000000000000c missed_frames
     /tmp/cc65NKcs.s:897    .persistent:000000000000000d seq_no
     /tmp/cc65NKcs.s:902    .persistent:000000000000000e fecf
     /tmp/cc65NKcs.s:907    .persistent:000000000000000f fec
     /tmp/cc65NKcs.s:90     .text.write_cb:0000000000000070 .L4
     /tmp/cc65NKcs.s:86     .text.write_cb:000000000000006c .L3
     /tmp/cc65NKcs.s:127    .text.elyRFChangeTxSyncS:0000000000000038 .L6
     /tmp/cc65NKcs.s:156    .text.elyRFDLLClampReg:000000000000001c .L9
     /tmp/cc65NKcs.s:208    .text.elyRFDLLClampReg:00000000000000d0 .L11
     /tmp/cc65NKcs.s:169    .text.elyRFDLLClampReg:0000000000000044 .L12
     /tmp/cc65NKcs.s:188    .text.elyRFDLLClampReg:0000000000000090 .L13
     /tmp/cc65NKcs.s:195    .text.elyRFDLLClampReg:00000000000000a8 .L14
     /tmp/cc65NKcs.s:181    .text.elyRFDLLClampReg:0000000000000078 .L15
     /tmp/cc65NKcs.s:212    .text.elyRFDLLClampReg:00000000000000dc .L16
     /tmp/cc65NKcs.s:164    .text.elyRFDLLClampReg:000000000000003e .L10
GAS LISTING /tmp/cc65NKcs.s 			page 22


     /tmp/cc65NKcs.s:215    .text.elyRFDLLClampReg:00000000000000e4 .L19
     /tmp/cc65NKcs.s:200    .text.elyRFDLLClampReg:00000000000000b8 .L18
     /tmp/cc65NKcs.s:222    .text.elyRFDLLClampReg:00000000000000fc .L20
     /tmp/cc65NKcs.s:229    .text.elyRFDLLClampReg:0000000000000114 .L21
     /tmp/cc65NKcs.s:236    .text.elyRFDLLClampReg:000000000000012c .L22
     /tmp/cc65NKcs.s:243    .text.elyRFDLLClampReg:0000000000000144 .L23
     /tmp/cc65NKcs.s:341    .text.elyRFDLLBuildFrame:0000000000000114 .L78
     /tmp/cc65NKcs.s:311    .text.elyRFDLLBuildFrame:00000000000000a8 .L60
     /tmp/cc65NKcs.s:344    .text.elyRFDLLBuildFrame:000000000000011a .L76
     /tmp/cc65NKcs.s:333    .text.elyRFDLLBuildFrame:0000000000000102 .L77
     /tmp/cc65NKcs.s:321    .text.elyRFDLLBuildFrame:00000000000000d4 .L59
     /tmp/cc65NKcs.s:355    .text.elyRFDLLBuildFrame:000000000000014c .L63
     /tmp/cc65NKcs.s:414    .text.elyRFDLLBuildFrame:0000000000000236 .L64
     /tmp/cc65NKcs.s:444    .text.elyRFDLLBuildFrame:00000000000002a4 .L82
     /tmp/cc65NKcs.s:352    .text.elyRFDLLBuildFrame:0000000000000142 .L66
     /tmp/cc65NKcs.s:326    .text.elyRFDLLBuildFrame:00000000000000e6 .L61
     /tmp/cc65NKcs.s:405    .text.elyRFDLLBuildFrame:0000000000000214 .L68
     /tmp/cc65NKcs.s:370    .text.elyRFDLLBuildFrame:000000000000018e .L69
     /tmp/cc65NKcs.s:400    .text.elyRFDLLBuildFrame:0000000000000206 .L70
     /tmp/cc65NKcs.s:396    .text.elyRFDLLBuildFrame:00000000000001fc .L71
     /tmp/cc65NKcs.s:381    .text.elyRFDLLBuildFrame:00000000000001ba .L72
     /tmp/cc65NKcs.s:439    .text.elyRFDLLBuildFrame:0000000000000292 .L73
     /tmp/cc65NKcs.s:431    .text.elyRFDLLBuildFrame:0000000000000276 .L75
     /tmp/cc65NKcs.s:425    .text.elyRFDLLBuildFrame:000000000000025e .L83
     /tmp/cc65NKcs.s:493    .text.packet_callback:0000000000000058 .L85
     /tmp/cc65NKcs.s:477    .text.packet_callback:0000000000000032 .L86
     /tmp/cc65NKcs.s:484    .text.packet_callback:0000000000000048 .L88
     /tmp/cc65NKcs.s:525    .text.header_callback:0000000000000012 .L90
     /tmp/cc65NKcs.s:540    .text.header_callback:000000000000004c .L91
     /tmp/cc65NKcs.s:667    .text.elyRFDLLHandleRxFifo:00000000000000c4 .L97
     /tmp/cc65NKcs.s:617    .text.elyRFDLLHandleRxFifo:000000000000003a .L98
     /tmp/cc65NKcs.s:626    .text.elyRFDLLHandleRxFifo:0000000000000048 .L99
     /tmp/cc65NKcs.s:647    .text.elyRFDLLHandleRxFifo:000000000000008a .L101
     /tmp/cc65NKcs.s:620    .text.elyRFDLLHandleRxFifo:0000000000000040 .L96
     /tmp/cc65NKcs.s:699    .text.elyRFDLLHandleRxFifo:0000000000000132 .L102
     /tmp/cc65NKcs.s:688    .text.elyRFDLLHandleRxFifo:000000000000010c .L103
     /tmp/cc65NKcs.s:659    .text.elyRFDLLHandleRxFifo:00000000000000b8 .L107
     /tmp/cc65NKcs.s:740    .text.elyRFDLLTxInit:000000000000002e .L109
     /tmp/cc65NKcs.s:746    .text.elyRFDLLTxInit:0000000000000046 .L111
     /tmp/cc65NKcs.s:805    .text.elyRFDLLHandleTxFifo:000000000000001a .L117

UNDEFINED SYMBOLS
rf_thd
chEvtSignalI
SX1278D1
__mspabi_srll_12
__mspabi_slli
_pal_lld_disablepadevent
bank0p
sx1278SetSync
chSysHalt
elyErrorSignal
chEvtSignal
rf_mbox
chMBFetch
elyNLGetLength
elyNLFreeBufferChecked
GAS LISTING /tmp/cc65NKcs.s 			page 23


crcGenSDLP
__mspabi_srll_8
chEvtWaitAnyTimeout
sx1212ReceiveI
elyNLRouteRFI
sx1212StopReceiveI
elyNLGetBufferI
sx1212StopReceive
sx1212StartReceive
sx1212FifoRead
elyNLRouteRF
sx1278StartTransmit
sx1278FifoWriteAsyncS
__crt0_init_bss
__crt0_move_highdata
