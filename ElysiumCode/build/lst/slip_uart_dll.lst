GAS LISTING /tmp/ccJUF4WL.s 			page 1


   1               		.file	"slip_uart_dll.c"
   2               		.section	.text.calc_next_buff,"ax",@progbits
   3               		.balign 2
   4               		.global	calc_next_buff
   5               		.type	calc_next_buff, @function
   6               	calc_next_buff:
   7               	; start of function
   8               	; framesize_regs:     8
   9               	; framesize_locals:   0
  10               	; framesize_outgoing: 0
  11               	; framesize:          8
  12               	; elim ap -> fp       12
  13               	; elim fp -> sp       0
  14               	; saved regs: R8 R10
  15               		; start of prologue
  16 0000 0A14      		PUSHM.A	#1, R10
  17 0002 0814      		PUSHM.A	#1, R8
  18               		; end of prologue
  19 0004 4018 5C42 		MOVX.B	&tx_state, R12
  19      0000 
  20 000a 5C93 0024 		CMP.B	#1, R12 { JEQ	.L3
  21 000e 6C93 0020 		CMP.B	#2, R12 { JNE	.L30
  22 0012 2C00 0000 		MOVA	&tx_read_ptr, R12
  23 0016 600C 0000 		MOVA	R12, &next_tx_ptr
  24 001a 0018 C243 		MOVX.A	#0, &next_cnt
  24      0000 
  25 0020 2800 0000 		MOVA	&tx_n, R8
  26 0024 4E43      		MOV.B	#0, R14
  27 0026 4D43      		MOV.B	#0, R13
  28 0028 5B43      		MOV.B	#1, R11
  29               	.L5:
  30 002a D80E 0020 		CMPA	R14, R8 { JNE	.L6
  31               	.L33:
  32 002e 0D93 0024 		CMP.W	#0, R13 { JEQ	.L11
  33 0032 600E 0000 		MOVA	R14, &next_cnt
  34 0036 600C 0000 		MOVA	R12, &tx_read_ptr
  35               	.L11:
  36 003a 4018 D243 		MOVX.B	#1, &tx_state
  36      0000 
  37 0040 9E00 0000 		CMPA	#0, R14 { JEQ	.L3
  37      0024 
  38               	.L1:
  39               		; start of epilogue
  40 0046 0816      		POPM.A	#1, r8
  41 0048 0A16      		POPM.A	#1, r10
  42 004a 1001      		RETA
  43               	.L6:
  44 004c 6F4C      		MOV.B	@R12, R15
  45 004e 7F90 C0FF 		CMP.B	#-64, R15 { JEQ	.L33
  45      0024 
  46 0054 CA0E      		MOVA	R14, R10
  47 0056 AA00 0100 		ADDA	#1, R10
  48 005a 7F90 DBFF 		CMP.B	#-37, R15 { JEQ	.L33
  48      0024 
  49 0060 AC00 0100 		ADDA	#1, R12
  50 0064 0D4B      		MOV.W	R11, R13
  51 0066 CE0A      		MOVA	R10, R14
GAS LISTING /tmp/ccJUF4WL.s 			page 2


  52 0068 8000 0000 		BRA	#.L5
  53               	.L3:
  54 006c 2C00 0000 		MOVA	&tx_read_ptr, R12
  55 0070 CD0C      		MOVA	R12, R13
  56 0072 AD00 0100 		ADDA	#1, R13
  57 0076 600D 0000 		MOVA	R13, &tx_read_ptr
  58 007a 6C4C      		MOV.B	@R12, R12
  59 007c 7C90 C0FF 		CMP.B	#-64, R12 { JEQ	.L15
  59      0024 
  60 0082 7C90 DBFF 		CMP.B	#-37, R12 { JNE	.L31
  60      0020 
  61 0088 0018 F240 		MOVX.A	#SLIP_ESC_ESC_ESC, &next_tx_ptr
  61      0000 0000 
  62               	.L17:
  63 0090 0018 E243 		MOVX.A	#2, &next_cnt
  63      0000 
  64 0096 0018 D253 		ADDX.A	#1, &tx_n
  64      0000 
  65 009c 4018 E243 		MOVX.B	#2, &tx_state
  65      0000 
  66 00a2 8000 0000 		BRA	#.L1
  67               	.L15:
  68 00a6 0018 F240 		MOVX.A	#SLIP_ESC_ESC_END, &next_tx_ptr
  68      0000 0000 
  69 00ae 8000 0000 		BRA	#.L17
  70               	.L31:
  71 00b2 8C00 0000 		MOVA	#__func__.4809, R12
  72 00b6 B013 0000 		CALLA	#chSysHalt
  73 00ba 0018 F253 		ADDX.A	#-1, &tx_n
  73      0000 
  74 00c0 8000 0000 		BRA	#.L17
  75               	.L30:
  76 00c4 8C00 0000 		MOVA	#__func__.4809, R12
  77 00c8 B013 0000 		CALLA	#chSysHalt
  78 00cc 8000 0000 		BRA	#.L1
  79               		.size	calc_next_buff, .-calc_next_buff
  80               		.section	.text.elyUARTDLLTxCB,"ax",@progbits
  81               		.balign 2
  82               		.global	elyUARTDLLTxCB
  83               		.type	elyUARTDLLTxCB, @function
  84               	elyUARTDLLTxCB:
  85               	; start of function
  86               	; framesize_regs:     0
  87               	; framesize_locals:   0
  88               	; framesize_outgoing: 0
  89               	; framesize:          0
  90               	; elim ap -> fp       4
  91               	; elim fp -> sp       0
  92               	; saved regs:(none)
  93               		; start of prologue
  94               		; end of prologue
  95 0000 4018 C293 		CMPX.B	#0, &done.4814 { JEQ	.L35
  95      0000 0024 
  96 0008 4018 C243 		MOVX.B	#0, &done.4814
  96      0000 
  97               	.L34:
  98               		; start of epilogue
GAS LISTING /tmp/ccJUF4WL.s 			page 3


  99 000e 1001      		RETA
 100               	.L35:
 101 0010 2E00 0000 		MOVA	&next_tx_ptr, R14
 102 0014 2D00 0000 		MOVA	&next_cnt, R13
 103 0018 B013 0000 		CALLA	#uartStartSendI
 104 001c 2C00 0000 		MOVA	&tx_n, R12
 105 0020 9C00 0000 		CMPA	#0, R12 { JNE	.L37
 105      0020 
 106 0026 4018 D243 		MOVX.B	#1, &done.4814
 106      0000 
 107 002c 8000 0000 		BRA	#.L34
 108               	.L37:
 109 0030 0018 5C82 		SUBX.A	&next_cnt, R12
 109      0000 
 110 0036 600C 0000 		MOVA	R12, &tx_n
 111 003a 9C00 0000 		CMPA	#0, R12 { JNE	.L38
 111      0020 
 112 0040 2C00 0000 		MOVA	&tx_active_buffer, R12
 113 0044 B013 0000 		CALLA	#elyNLFreeBufferCheckedI
 114 0048 0018 F240 		MOVX.A	#END.4815, &next_tx_ptr
 114      0000 0000 
 115 0050 0018 D243 		MOVX.A	#1, &next_cnt
 115      0000 
 116 0056 8000 0000 		BRA	#.L34
 117               	.L38:
 118 005a B013 0000 		CALLA	#calc_next_buff
 119 005e 8000 0000 		BRA	#.L34
 120               		.size	elyUARTDLLTxCB, .-elyUARTDLLTxCB
 121               		.section	.text.elyUARTDLLStartTx,"ax",@progbits
 122               		.balign 2
 123               		.global	elyUARTDLLStartTx
 124               		.type	elyUARTDLLStartTx, @function
 125               	elyUARTDLLStartTx:
 126               	; start of function
 127               	; framesize_regs:     8
 128               	; framesize_locals:   0
 129               	; framesize_outgoing: 0
 130               	; framesize:          8
 131               	; elim ap -> fp       12
 132               	; elim fp -> sp       0
 133               	; saved regs: R8 R10
 134               		; start of prologue
 135 0000 0A14      		PUSHM.A	#1, R10
 136 0002 0814      		PUSHM.A	#1, R8
 137               		; end of prologue
 138 0004 C80C      		MOVA	R12, R8
 139 0006 CA0D      		MOVA	R13, R10
 140 0008 CC0D      		MOVA	R13, R12
 141 000a B013 0000 		CALLA	#elyNLGetLength
 142 000e 600C 0000 		MOVA	R12, &tx_n
 143 0012 9C00 0000 		CMPA	#0, R12 { JEQ	.L40
 143      0024 
 144 0018 0018 C29C 		CMPX.A	R12, &elyNLMaxLen { JHS	.L41
 144      0000 002C 
 145               	.L40:
 146 0020 8C00 0000 		MOVA	#__func__.4821, R12
 147 0024 B013 0000 		CALLA	#chSysHalt
GAS LISTING /tmp/ccJUF4WL.s 			page 4


 148               	.L41:
 149 0028 2C00 0000 		MOVA	&tx_n, R12
 150 002c 9C00 0000 		CMPA	#0, R12 { JEQ	.L42
 150      0024 
 151 0032 0018 C29C 		CMPX.A	R12, &elyNLMaxLen { JHS	.L43
 151      0000 002C 
 152               	.L42:
 153 003a CC0A      		MOVA	R10, R12
 154 003c B013 0000 		CALLA	#elyNLFreeBufferChecked
 155               	.L43:
 156 0040 600A 0000 		MOVA	R10, &tx_read_ptr
 157 0044 600A 0000 		MOVA	R10, &tx_active_buffer
 158 0048 4018 E243 		MOVX.B	#2, &tx_state
 158      0000 
 159 004e 8A00 0000 		MOVA	#calc_next_buff, R10
 160 0052 4A13      		CALLA	R10
 161               	 ; 347 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 162 0054 32C2 0343 		dint { nop
 163               	 ; 0 "" 2
 164               	 ; 348 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 165 0058 0343      		nop
 166               	 ; 0 "" 2
 167 005a 2E00 0000 		MOVA	&next_tx_ptr, R14
 168 005e 2D00 0000 		MOVA	&next_cnt, R13
 169 0062 CC08      		MOVA	R8, R12
 170 0064 B013 0000 		CALLA	#uartStartSendI
 171 0068 2C00 0000 		MOVA	&tx_n, R12
 172 006c 0018 5C82 		SUBX.A	&next_cnt, R12
 172      0000 
 173 0072 600C 0000 		MOVA	R12, &tx_n
 174 0076 9C00 0000 		CMPA	#0, R12 { JNE	.L44
 174      0020 
 175 007c 2C00 0000 		MOVA	&tx_active_buffer, R12
 176 0080 B013 0000 		CALLA	#elyNLFreeBufferCheckedI
 177 0084 0018 F240 		MOVX.A	#END.4820, &next_tx_ptr
 177      0000 0000 
 178 008c 0018 D243 		MOVX.A	#1, &next_cnt
 178      0000 
 179               	.L52:
 180               	 ; 355 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 181 0092 0343      		nop
 182               	 ; 0 "" 2
 183               	 ; 356 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 184 0094 0343 32D2 		nop { eint { nop
 184      0343 
 185               	 ; 0 "" 2
 186               		; start of epilogue
 187 009a 0816      		POPM.A	#1, r8
 188 009c 0A16      		POPM.A	#1, r10
 189 009e 1001      		RETA
 190               	.L44:
 191 00a0 4A13      		CALLA	R10
 192 00a2 8000 0000 		BRA	#.L52
 193               		.size	elyUARTDLLStartTx, .-elyUARTDLLStartTx
 194               		.section	.text.elyUARTDLLRxInit,"ax",@progbits
 195               		.balign 2
 196               		.global	elyUARTDLLRxInit
GAS LISTING /tmp/ccJUF4WL.s 			page 5


 197               		.type	elyUARTDLLRxInit, @function
 198               	elyUARTDLLRxInit:
 199               	; start of function
 200               	; framesize_regs:     0
 201               	; framesize_locals:   0
 202               	; framesize_outgoing: 0
 203               	; framesize:          0
 204               	; elim ap -> fp       4
 205               	; elim fp -> sp       0
 206               	; saved regs:(none)
 207               		; start of prologue
 208               		; end of prologue
 209 0000 0018 D242 		MOVX.A	&nil, &uart_thd
 209      0000 0000 
 210               		; start of epilogue
 211 0008 1001      		RETA
 212               		.size	elyUARTDLLRxInit, .-elyUARTDLLRxInit
 213               		.section	.text.elyUARTDLLRxHandleBuffer,"ax",@progbits
 214               		.balign 2
 215               		.global	elyUARTDLLRxHandleBuffer
 216               		.type	elyUARTDLLRxHandleBuffer, @function
 217               	elyUARTDLLRxHandleBuffer:
 218               	; start of function
 219               	; framesize_regs:     28
 220               	; framesize_locals:   0
 221               	; framesize_outgoing: 0
 222               	; framesize:          28
 223               	; elim ap -> fp       32
 224               	; elim fp -> sp       0
 225               	; saved regs: R4 R5 R6 R7 R8 R9 R10
 226               		; start of prologue
 227 0000 6A14      		PUSHM.A	#7, R10
 228               		; end of prologue
 229 0002 2800 0000 		MOVA	&bytes_available, R8
 230 0006 8E00 0000 		MOVA	#rx_buf, R14
 231 000a 1C4E 0202 		MOV.W	514(R14), R12
 232 000e 0D4C      		MOV.W	R12, R13
 233 0010 1D53      		ADD.W	#1, R13
 234 0012 8E4D 0202 		MOV.W	R13, 514(R14)
 235 0016 5CF3      		AND.B	#1, R12
 236 0018 0D43      		MOV.W	#0,R13
 237 001a B013 0000 		CALLA	#__mspabi_slll_8
 238 001e 0D12 0C12 		PUSH.W	R13 { PUSH.W	R12 { POPM.A	#1, R10
 238      0A16 
 239 0024 AA00 0000 		ADDA	#rx_buf, R10
 240 0028 C50A      		MOVA	R10, R5
 241 002a E508      		ADDA	R8, R5
 242 002c 8700 0000 		MOVA	#elyNLGetBuffer, R7
 243 0030 8400 0000 		MOVA	#elyNLValidate, R4
 244 0034 8600 0000 		MOVA	#elyNLGetLength, R6
 245               	.L55:
 246 0038 DA05 0028 		CMPA	R5, R10 { JLO	.L76
 247 003c 7C40 FF00 		MOV.B	#255, R12
 248 0040 DC08 0028 		CMPA	R8, R12 { JLO	.L54
 249 0044 2C00 0000 		MOVA	&rx_active_buffer, R12
 250 0048 9C00 0000 		CMPA	#0, R12 { JEQ	.L78
 250      0024 
GAS LISTING /tmp/ccJUF4WL.s 			page 6


 251 004e B013 0000 		CALLA	#elyNLFreeBuffer
 252 0052 0018 C243 		MOVX.A	#0, &rx_active_buffer
 252      0000 
 253               	.L78:
 254 0058 4018 C243 		MOVX.B	#0, &rx_state
 254      0000 
 255               	.L54:
 256               		; start of epilogue
 257 005e 6416      		POPM.A	#7, r10
 258 0060 1001      		RETA
 259               	.L76:
 260 0062 694A      		MOV.B	@R10, R9
 261 0064 4018 C293 		CMPX.B	#0, &rx_state { JNE	.L56
 261      0000 0020 
 262 006c 0018 C293 		CMPX.A	#0, &rx_active_buffer { JNE	.L57
 262      0000 0020 
 263 0074 4713      		CALLA	R7
 264 0076 600C 0000 		MOVA	R12, &rx_active_buffer
 265               	.L57:
 266 007a 2C00 0000 		MOVA	&rx_active_buffer, R12
 267 007e 9C00 0000 		CMPA	#0, R12 { JEQ	.L54
 267      0024 
 268 0084 600C 0000 		MOVA	R12, &rx_write_ptr
 269 0088 0018 F240 		MOVX.A	#6, &rx_n.4829
 269      0600 0000 
 270 0090 4018 E243 		MOVX.B	#2, &rx_state
 270      0000 
 271 0096 4018 D243 		MOVX.B	#1, &header.4830
 271      0000 
 272               	.L56:
 273 009c 4018 5C42 		MOVX.B	&rx_state, R12
 273      0000 
 274 00a2 5C93 0024 		CMP.B	#1, R12 { JEQ	.L61
 275 00a6 6C93 0024 		CMP.B	#2, R12 { JEQ	.L62
 276 00aa 8C00 0000 		MOVA	#__func__.4847, R12
 277 00ae B013 0000 		CALLA	#chSysHalt
 278 00b2 8000 0000 		BRA	#.L68
 279               	.L61:
 280 00b6 7990 DCFF 		CMP.B	#-36, R9 { JEQ	.L64
 280      0024 
 281 00bc 7990 DDFF 		CMP.B	#-35, R9 { JEQ	.L65
 281      0024 
 282               	.L86:
 283 00c2 4018 C243 		MOVX.B	#0, &rx_state
 283      0000 
 284 00c8 8000 0000 		BRA	#.L55
 285               	.L64:
 286 00cc 2C00 0000 		MOVA	&rx_write_ptr, R12
 287 00d0 CD0C      		MOVA	R12, R13
 288 00d2 AD00 0100 		ADDA	#1, R13
 289 00d6 600D 0000 		MOVA	R13, &rx_write_ptr
 290 00da FC40 C0FF 		MOV.B	#-64, @R12
 290      0000 
 291               	.L66:
 292 00e0 0018 F253 		ADDX.A	#-1, &rx_n.4829
 292      0000 
 293 00e6 4018 E243 		MOVX.B	#2, &rx_state
GAS LISTING /tmp/ccJUF4WL.s 			page 7


 293      0000 
 294               	.L85:
 295 00ec AA00 0100 		ADDA	#1, R10
 296               	.L68:
 297 00f0 0018 C293 		CMPX.A	#0, &rx_n.4829 { JNE	.L55
 297      0000 0020 
 298 00f8 4018 C293 		CMPX.B	#0, &header.4830 { JEQ	.L55
 298      0000 0024 
 299 0100 2C00 0000 		MOVA	&rx_active_buffer, R12
 300 0104 4413      		CALLA	R4
 301 0106 4C93 0024 		CMP.B	#0, R12 { JEQ	.L75
 302 010a 2C00 0000 		MOVA	&rx_active_buffer, R12
 303 010e 4613      		CALLA	R6
 304 0110 AC0F FAFF 		ADDA	#-6, R12
 305 0114 600C 0000 		MOVA	R12, &rx_n.4829
 306 0118 4018 C243 		MOVX.B	#0, &header.4830
 306      0000 
 307 011e 8000 0000 		BRA	#.L55
 308               	.L65:
 309 0122 2C00 0000 		MOVA	&rx_write_ptr, R12
 310 0126 CD0C      		MOVA	R12, R13
 311 0128 AD00 0100 		ADDA	#1, R13
 312 012c 600D 0000 		MOVA	R13, &rx_write_ptr
 313 0130 FC40 DBFF 		MOV.B	#-37, @R12
 313      0000 
 314 0136 8000 0000 		BRA	#.L66
 315               	.L62:
 316 013a 7990 C0FF 		CMP.B	#-64, R9 { JEQ	.L70
 316      0024 
 317 0140 7990 DBFF 		CMP.B	#-37, R9 { JNE	.L84
 317      0020 
 318 0146 0018 C293 		CMPX.A	#0, &rx_n.4829 { JEQ	.L86
 318      0000 0024 
 319 014e 4018 D243 		MOVX.B	#1, &rx_state
 319      0000 
 320 0154 8000 0000 		BRA	#.L85
 321               	.L70:
 322 0158 0018 C293 		CMPX.A	#0, &rx_n.4829 { JNE	.L73
 322      0000 0020 
 323 0160 2C00 0000 		MOVA	&rx_active_buffer, R12
 324 0164 B013 0000 		CALLA	#elyNLRouteUART
 325 0168 0018 C243 		MOVX.A	#0, &rx_active_buffer
 325      0000 
 326               	.L73:
 327 016e 4018 C243 		MOVX.B	#0, &rx_state
 327      0000 
 328 0174 AA00 0100 		ADDA	#1, R10
 329 0178 8000 0000 		BRA	#.L55
 330               	.L84:
 331 017c 2C00 0000 		MOVA	&rx_n.4829, R12
 332 0180 9C00 0000 		CMPA	#0, R12 { JEQ	.L86
 332      0024 
 333 0186 2E00 0000 		MOVA	&rx_write_ptr, R14
 334 018a CD0E      		MOVA	R14, R13
 335 018c AD00 0100 		ADDA	#1, R13
 336 0190 600D 0000 		MOVA	R13, &rx_write_ptr
 337 0194 CE49 0000 		MOV.B	R9, @R14
GAS LISTING /tmp/ccJUF4WL.s 			page 8


 338 0198 AC0F FFFF 		ADDA	#-1, R12
 339 019c 600C 0000 		MOVA	R12, &rx_n.4829
 340 01a0 8000 0000 		BRA	#.L85
 341               	.L75:
 342 01a4 4018 C24C 		MOVX.B	R12, &rx_state
 342      0000 
 343 01aa 8000 0000 		BRA	#.L55
 344               		.size	elyUARTDLLRxHandleBuffer, .-elyUARTDLLRxHandleBuffer
 345               		.section	.text.elyUARTDLLTimeoutCB,"ax",@progbits
 346               		.balign 2
 347               		.global	elyUARTDLLTimeoutCB
 348               		.type	elyUARTDLLTimeoutCB, @function
 349               	elyUARTDLLTimeoutCB:
 350               	; start of function
 351               	; framesize_regs:     0
 352               	; framesize_locals:   0
 353               	; framesize_outgoing: 0
 354               	; framesize:          0
 355               	; elim ap -> fp       4
 356               	; elim fp -> sp       0
 357               	; saved regs:(none)
 358               		; start of prologue
 359               		; end of prologue
 360 0000 8C00 0000 		MOVA	#UARTDA1, R12
 361 0004 B013 0000 		CALLA	#uartStopReceiveI
 362 0008 3D40 0001 		MOV.W	#256, R13
 363 000c FD0C      		SUBA	R12, R13
 364 000e 600D 0000 		MOVA	R13, &bytes_available
 365 0012 6D42      		MOV.B	#4, R13
 366 0014 4E43      		MOV.B	#0, R14
 367 0016 2C00 0000 		MOVA	&uart_thd, R12
 368 001a B013 0000 		CALLA	#chEvtSignalI
 369               		; start of epilogue
 370 001e 1001      		RETA
 371               		.size	elyUARTDLLTimeoutCB, .-elyUARTDLLTimeoutCB
 372               		.section	.text.elyUARTDLLRxCharCB,"ax",@progbits
 373               		.balign 2
 374               		.global	elyUARTDLLRxCharCB
 375               		.type	elyUARTDLLRxCharCB, @function
 376               	elyUARTDLLRxCharCB:
 377               	; start of function
 378               	; framesize_regs:     8
 379               	; framesize_locals:   0
 380               	; framesize_outgoing: 0
 381               	; framesize:          8
 382               	; elim ap -> fp       12
 383               	; elim fp -> sp       0
 384               	; saved regs: R8 R10
 385               		; start of prologue
 386 0000 0A14      		PUSHM.A	#1, R10
 387 0002 0814      		PUSHM.A	#1, R8
 388               		; end of prologue
 389 0004 C80C      		MOVA	R12, R8
 390 0006 0A4D      		MOV.W	R13, R10
 391 0008 7C40 FF00 		MOV.B	#255, R12
 392 000c 0C9D 002C 		CMP.W	R13, R12 { JHS	.L89
 393 0010 8C00 0000 		MOVA	#__func__.4860, R12
GAS LISTING /tmp/ccJUF4WL.s 			page 9


 394 0014 B013 0000 		CALLA	#chSysHalt
 395               	.L89:
 396 0018 8E00 0000 		MOVA	#rx_buf, R14
 397 001c 4018 8243 		MOVX.W	#0, &rx_buf+514
 397      0000 
 398 0022 4018 9243 		MOVX.W	#1, &rx_buf+512
 398      0000 
 399 0028 CE4A 0000 		MOV.B	R10, @R14
 400 002c AE00 0100 		ADDA	#1, R14
 401 0030 7D40 FF00 		MOV.B	#255, R13
 402 0034 CC08      		MOVA	R8, R12
 403 0036 B013 0000 		CALLA	#uartStartReceiveI
 404 003a 3D40 E803 		MOV.W	#1000, R13
 405 003e 8C00 0000 		MOVA	#GPTDA1, R12
 406 0042 B013 0000 		CALLA	#gptStartOneShotI
 407               		; start of epilogue
 408 0046 0816      		POPM.A	#1, r8
 409 0048 0A16      		POPM.A	#1, r10
 410 004a 1001      		RETA
 411               		.size	elyUARTDLLRxCharCB, .-elyUARTDLLRxCharCB
 412               		.section	.text.elyUARTDLLRxCB,"ax",@progbits
 413               		.balign 2
 414               		.global	elyUARTDLLRxCB
 415               		.type	elyUARTDLLRxCB, @function
 416               	elyUARTDLLRxCB:
 417               	; start of function
 418               	; framesize_regs:     8
 419               	; framesize_locals:   0
 420               	; framesize_outgoing: 0
 421               	; framesize:          8
 422               	; elim ap -> fp       12
 423               	; elim fp -> sp       0
 424               	; saved regs: R8 R10
 425               		; start of prologue
 426 0000 0A14      		PUSHM.A	#1, R10
 427 0002 0814      		PUSHM.A	#1, R8
 428               		; end of prologue
 429 0004 CA0C      		MOVA	R12, R10
 430 0006 8E00 0000 		MOVA	#rx_buf, R14
 431 000a 1C4E 0002 		MOV.W	512(R14), R12
 432 000e 0D4C      		MOV.W	R12, R13
 433 0010 1D53      		ADD.W	#1, R13
 434 0012 8E4D 0002 		MOV.W	R13, 512(R14)
 435 0016 5CF3      		AND.B	#1, R12
 436 0018 0D43      		MOV.W	#0,R13
 437 001a B013 0000 		CALLA	#__mspabi_slll_8
 438 001e 0D12 0C12 		PUSH.W	R13 { PUSH.W	R12 { POPM.A	#1, R14
 438      0E16 
 439 0024 3840 0001 		MOV.W	#256, R8
 440 0028 AE00 0000 		ADDA	#rx_buf, R14
 441 002c CD08      		MOVA	R8, R13
 442 002e CC0A      		MOVA	R10, R12
 443 0030 B013 0000 		CALLA	#uartStartReceiveI
 444 0034 8A00 0000 		MOVA	#GPTDA1, R10
 445 0038 CC0A      		MOVA	R10, R12
 446 003a B013 0000 		CALLA	#gptStopTimerI
 447 003e 3D40 E803 		MOV.W	#1000, R13
GAS LISTING /tmp/ccJUF4WL.s 			page 10


 448 0042 CC0A      		MOVA	R10, R12
 449 0044 B013 0000 		CALLA	#gptStartOneShotI
 450 0048 6008 0000 		MOVA	R8, &bytes_available
 451 004c 6D42      		MOV.B	#4, R13
 452 004e 4E43      		MOV.B	#0, R14
 453 0050 2C00 0000 		MOVA	&uart_thd, R12
 454 0054 B013 0000 		CALLA	#chEvtSignalI
 455               		; start of epilogue
 456 0058 0816      		POPM.A	#1, r8
 457 005a 0A16      		POPM.A	#1, r10
 458 005c 1001      		RETA
 459               		.size	elyUARTDLLRxCB, .-elyUARTDLLRxCB
 460               		.section	.upper.rodata,"a",@progbits
 461               		.type	__func__.4860, @object
 462               		.size	__func__.4860, 19
 463               	__func__.4860:
 464 0000 656C 7955 		.string	"elyUARTDLLRxCharCB"
 464      4152 5444 
 464      4C4C 5278 
 464      4368 6172 
 464      4342 00
 465               		.type	__func__.4847, @object
 466               		.size	__func__.4847, 14
 467               	__func__.4847:
 468 0013 6861 6E64 		.string	"handle_buffer"
 468      6C65 5F62 
 468      7566 6665 
 468      7200 
 469               		.local	header.4830
 470               		.comm	header.4830,1,1
 471               		.local	rx_n.4829
 472               		.comm	rx_n.4829,4,2
 473               		.type	END.4820, @object
 474               		.size	END.4820, 1
 475               	END.4820:
 476 0021 C0        		.byte	-64
 477               		.type	__func__.4821, @object
 478               		.size	__func__.4821, 18
 479               	__func__.4821:
 480 0022 656C 7955 		.string	"elyUARTDLLStartTx"
 480      4152 5444 
 480      4C4C 5374 
 480      6172 7454 
 480      7800 
 481               		.type	END.4815, @object
 482               		.size	END.4815, 1
 483               	END.4815:
 484 0034 C0        		.byte	-64
 485               		.local	done.4814
 486               		.comm	done.4814,1,1
 487               		.type	__func__.4809, @object
 488               		.size	__func__.4809, 15
 489               	__func__.4809:
 490 0035 6361 6C63 		.string	"calc_next_buff"
 490      5F6E 6578 
 490      745F 6275 
 490      6666 00
GAS LISTING /tmp/ccJUF4WL.s 			page 11


 491               		.local	uart_thd
 492               		.comm	uart_thd,4,2
 493               		.section	.upper.data,"aw",@progbits
 494               		.type	tx_state, @object
 495               		.size	tx_state, 1
 496               	tx_state:
 497 0000 02        		.byte	2
 498               		.local	next_tx_ptr
 499               		.comm	next_tx_ptr,4,2
 500               		.local	next_cnt
 501               		.comm	next_cnt,4,2
 502               		.local	tx_read_ptr
 503               		.comm	tx_read_ptr,4,2
 504               		.local	tx_n
 505               		.comm	tx_n,4,2
 506               		.local	tx_active_buffer
 507               		.comm	tx_active_buffer,4,2
 508               		.local	bytes_available
 509               		.comm	bytes_available,4,2
 510               		.local	rx_write_ptr
 511               		.comm	rx_write_ptr,4,2
 512               		.section	.persistent,"aw"
 513               		.balign 2
 514               		.type	rx_active_buffer, @object
 515               		.size	rx_active_buffer, 4
 516               	rx_active_buffer:
 517 0000 0000 0000 		.zero	4
 518               		.local	rx_state
 519               		.comm	rx_state,1,1
 520               		.local	rx_buf
 521               		.comm	rx_buf,516,2
 522               		.section	.upper.rodata
 523               		.type	SLIP_ESC_ESC_END, @object
 524               		.size	SLIP_ESC_ESC_END, 2
 525               	SLIP_ESC_ESC_END:
 526 0044 DB        		.byte	-37
 527 0045 DC        		.byte	-36
 528               		.type	SLIP_ESC_ESC_ESC, @object
 529               		.size	SLIP_ESC_ESC_ESC, 2
 530               	SLIP_ESC_ESC_ESC:
 531 0046 DB        		.byte	-37
 532 0047 DD        		.byte	-35
 533               		.ident	"GCC: (SOMNIUM Technologies Limited - msp430-gcc 6.2.1.16) 6.2.1 20161212"
GAS LISTING /tmp/ccJUF4WL.s 			page 12


DEFINED SYMBOLS
                            *ABS*:0000000000000000 slip_uart_dll.c
     /tmp/ccJUF4WL.s:6      .text.calc_next_buff:0000000000000000 calc_next_buff
     /tmp/ccJUF4WL.s:496    .upper.data:0000000000000000 tx_state
     /tmp/ccJUF4WL.s:503    .bss:0000000000000014 tx_read_ptr
     /tmp/ccJUF4WL.s:499    .bss:000000000000000c next_tx_ptr
     /tmp/ccJUF4WL.s:501    .bss:0000000000000010 next_cnt
     /tmp/ccJUF4WL.s:505    .bss:0000000000000018 tx_n
     /tmp/ccJUF4WL.s:530    .upper.rodata:0000000000000046 SLIP_ESC_ESC_ESC
     /tmp/ccJUF4WL.s:525    .upper.rodata:0000000000000044 SLIP_ESC_ESC_END
     /tmp/ccJUF4WL.s:489    .upper.rodata:0000000000000035 __func__.4809
     /tmp/ccJUF4WL.s:84     .text.elyUARTDLLTxCB:0000000000000000 elyUARTDLLTxCB
     /tmp/ccJUF4WL.s:472    .bss:0000000000000006 done.4814
     /tmp/ccJUF4WL.s:507    .bss:000000000000001c tx_active_buffer
     /tmp/ccJUF4WL.s:483    .upper.rodata:0000000000000034 END.4815
     /tmp/ccJUF4WL.s:125    .text.elyUARTDLLStartTx:0000000000000000 elyUARTDLLStartTx
     /tmp/ccJUF4WL.s:479    .upper.rodata:0000000000000022 __func__.4821
     /tmp/ccJUF4WL.s:475    .upper.rodata:0000000000000021 END.4820
     /tmp/ccJUF4WL.s:198    .text.elyUARTDLLRxInit:0000000000000000 elyUARTDLLRxInit
     /tmp/ccJUF4WL.s:492    .bss:0000000000000008 uart_thd
     /tmp/ccJUF4WL.s:217    .text.elyUARTDLLRxHandleBuffer:0000000000000000 elyUARTDLLRxHandleBuffer
     /tmp/ccJUF4WL.s:509    .bss:0000000000000020 bytes_available
     /tmp/ccJUF4WL.s:521    .bss:000000000000002a rx_buf
     /tmp/ccJUF4WL.s:516    .persistent:0000000000000000 rx_active_buffer
     /tmp/ccJUF4WL.s:511    .bss:0000000000000028 rx_state
     /tmp/ccJUF4WL.s:511    .bss:0000000000000024 rx_write_ptr
     /tmp/ccJUF4WL.s:472    .bss:0000000000000002 rx_n.4829
                             .bss:0000000000000000 header.4830
     /tmp/ccJUF4WL.s:467    .upper.rodata:0000000000000013 __func__.4847
     /tmp/ccJUF4WL.s:349    .text.elyUARTDLLTimeoutCB:0000000000000000 elyUARTDLLTimeoutCB
     /tmp/ccJUF4WL.s:376    .text.elyUARTDLLRxCharCB:0000000000000000 elyUARTDLLRxCharCB
     /tmp/ccJUF4WL.s:463    .upper.rodata:0000000000000000 __func__.4860
     /tmp/ccJUF4WL.s:416    .text.elyUARTDLLRxCB:0000000000000000 elyUARTDLLRxCB
     /tmp/ccJUF4WL.s:53     .text.calc_next_buff:000000000000006c .L3
     /tmp/ccJUF4WL.s:75     .text.calc_next_buff:00000000000000c4 .L30
     /tmp/ccJUF4WL.s:43     .text.calc_next_buff:000000000000004c .L6
     /tmp/ccJUF4WL.s:35     .text.calc_next_buff:000000000000003a .L11
     /tmp/ccJUF4WL.s:31     .text.calc_next_buff:000000000000002e .L33
     /tmp/ccJUF4WL.s:29     .text.calc_next_buff:000000000000002a .L5
     /tmp/ccJUF4WL.s:67     .text.calc_next_buff:00000000000000a6 .L15
     /tmp/ccJUF4WL.s:70     .text.calc_next_buff:00000000000000b2 .L31
     /tmp/ccJUF4WL.s:38     .text.calc_next_buff:0000000000000046 .L1
     /tmp/ccJUF4WL.s:62     .text.calc_next_buff:0000000000000090 .L17
     /tmp/ccJUF4WL.s:100    .text.elyUARTDLLTxCB:0000000000000010 .L35
     /tmp/ccJUF4WL.s:108    .text.elyUARTDLLTxCB:0000000000000030 .L37
     /tmp/ccJUF4WL.s:97     .text.elyUARTDLLTxCB:000000000000000e .L34
     /tmp/ccJUF4WL.s:117    .text.elyUARTDLLTxCB:000000000000005a .L38
     /tmp/ccJUF4WL.s:145    .text.elyUARTDLLStartTx:0000000000000020 .L40
     /tmp/ccJUF4WL.s:148    .text.elyUARTDLLStartTx:0000000000000028 .L41
     /tmp/ccJUF4WL.s:152    .text.elyUARTDLLStartTx:000000000000003a .L42
     /tmp/ccJUF4WL.s:155    .text.elyUARTDLLStartTx:0000000000000040 .L43
     /tmp/ccJUF4WL.s:190    .text.elyUARTDLLStartTx:00000000000000a0 .L44
     /tmp/ccJUF4WL.s:179    .text.elyUARTDLLStartTx:0000000000000092 .L52
     /tmp/ccJUF4WL.s:259    .text.elyUARTDLLRxHandleBuffer:0000000000000062 .L76
     /tmp/ccJUF4WL.s:255    .text.elyUARTDLLRxHandleBuffer:000000000000005e .L54
     /tmp/ccJUF4WL.s:253    .text.elyUARTDLLRxHandleBuffer:0000000000000058 .L78
     /tmp/ccJUF4WL.s:272    .text.elyUARTDLLRxHandleBuffer:000000000000009c .L56
GAS LISTING /tmp/ccJUF4WL.s 			page 13


     /tmp/ccJUF4WL.s:265    .text.elyUARTDLLRxHandleBuffer:000000000000007a .L57
     /tmp/ccJUF4WL.s:279    .text.elyUARTDLLRxHandleBuffer:00000000000000b6 .L61
     /tmp/ccJUF4WL.s:315    .text.elyUARTDLLRxHandleBuffer:000000000000013a .L62
     /tmp/ccJUF4WL.s:296    .text.elyUARTDLLRxHandleBuffer:00000000000000f0 .L68
     /tmp/ccJUF4WL.s:285    .text.elyUARTDLLRxHandleBuffer:00000000000000cc .L64
     /tmp/ccJUF4WL.s:308    .text.elyUARTDLLRxHandleBuffer:0000000000000122 .L65
     /tmp/ccJUF4WL.s:245    .text.elyUARTDLLRxHandleBuffer:0000000000000038 .L55
     /tmp/ccJUF4WL.s:341    .text.elyUARTDLLRxHandleBuffer:00000000000001a4 .L75
     /tmp/ccJUF4WL.s:291    .text.elyUARTDLLRxHandleBuffer:00000000000000e0 .L66
     /tmp/ccJUF4WL.s:321    .text.elyUARTDLLRxHandleBuffer:0000000000000158 .L70
     /tmp/ccJUF4WL.s:330    .text.elyUARTDLLRxHandleBuffer:000000000000017c .L84
     /tmp/ccJUF4WL.s:282    .text.elyUARTDLLRxHandleBuffer:00000000000000c2 .L86
     /tmp/ccJUF4WL.s:294    .text.elyUARTDLLRxHandleBuffer:00000000000000ec .L85
     /tmp/ccJUF4WL.s:326    .text.elyUARTDLLRxHandleBuffer:000000000000016e .L73
     /tmp/ccJUF4WL.s:395    .text.elyUARTDLLRxCharCB:0000000000000018 .L89

UNDEFINED SYMBOLS
chSysHalt
uartStartSendI
elyNLFreeBufferCheckedI
elyNLGetLength
elyNLMaxLen
elyNLFreeBufferChecked
nil
__mspabi_slll_8
elyNLGetBuffer
elyNLValidate
elyNLFreeBuffer
elyNLRouteUART
UARTDA1
uartStopReceiveI
chEvtSignalI
uartStartReceiveI
GPTDA1
gptStartOneShotI
gptStopTimerI
__crt0_init_bss
__crt0_move_highdata
