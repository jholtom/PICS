GAS LISTING /tmp/cc8GNDAw.s 			page 1


   1               		.file	"slip_uart_dll.c"
   2               		.section	.text.calc_next_buff,"ax",@progbits
   3               		.balign 2
   4               		.global	calc_next_buff
   5               		.type	calc_next_buff, @function
   6               	calc_next_buff:
   7               	; start of function
   8               	; framesize_regs:     8
   9               	; framesize_locals:   0
  10               	; framesize_outgoing: 0
  11               	; framesize:          8
  12               	; elim ap -> fp       12
  13               	; elim fp -> sp       0
  14               	; saved regs: R8 R10
  15               		; start of prologue
  16 0000 0A14      		PUSHM.A	#1, R10
  17 0002 0814      		PUSHM.A	#1, R8
  18               		; end of prologue
  19 0004 4018 5C42 		MOVX.B	&tx_state, R12
  19      0000 
  20 000a 5C93 0024 		CMP.B	#1, R12 { JEQ	.L3
  21 000e 6C93 0020 		CMP.B	#2, R12 { JNE	.L30
  22 0012 2C00 0000 		MOVA	&tx_read_ptr, R12
  23 0016 600C 0000 		MOVA	R12, &next_tx_ptr
  24 001a 0018 C243 		MOVX.A	#0, &next_cnt
  24      0000 
  25 0020 2800 0000 		MOVA	&tx_n, R8
  26 0024 4E43      		MOV.B	#0, R14
  27 0026 4D43      		MOV.B	#0, R13
  28 0028 5B43      		MOV.B	#1, R11
  29               	.L5:
  30 002a D80E 0020 		CMPA	R14, R8 { JNE	.L6
  31               	.L33:
  32 002e 0D93 0024 		CMP.W	#0, R13 { JEQ	.L11
  33 0032 600E 0000 		MOVA	R14, &next_cnt
  34 0036 600C 0000 		MOVA	R12, &tx_read_ptr
  35               	.L11:
  36 003a 4018 D243 		MOVX.B	#1, &tx_state
  36      0000 
  37 0040 9E00 0000 		CMPA	#0, R14 { JEQ	.L3
  37      0024 
  38               	.L1:
  39               		; start of epilogue
  40 0046 0816      		POPM.A	#1, r8
  41 0048 0A16      		POPM.A	#1, r10
  42 004a 1001      		RETA
  43               	.L6:
  44 004c 6F4C      		MOV.B	@R12, R15
  45 004e 7F90 C0FF 		CMP.B	#-64, R15 { JEQ	.L33
  45      0024 
  46 0054 CA0E      		MOVA	R14, R10
  47 0056 AA00 0100 		ADDA	#1, R10
  48 005a 7F90 DBFF 		CMP.B	#-37, R15 { JEQ	.L33
  48      0024 
  49 0060 AC00 0100 		ADDA	#1, R12
  50 0064 0D4B      		MOV.W	R11, R13
  51 0066 CE0A      		MOVA	R10, R14
GAS LISTING /tmp/cc8GNDAw.s 			page 2


  52 0068 8000 0000 		BRA	#.L5
  53               	.L3:
  54 006c 2C00 0000 		MOVA	&tx_read_ptr, R12
  55 0070 CD0C      		MOVA	R12, R13
  56 0072 AD00 0100 		ADDA	#1, R13
  57 0076 600D 0000 		MOVA	R13, &tx_read_ptr
  58 007a 6C4C      		MOV.B	@R12, R12
  59 007c 7C90 C0FF 		CMP.B	#-64, R12 { JEQ	.L15
  59      0024 
  60 0082 7C90 DBFF 		CMP.B	#-37, R12 { JNE	.L31
  60      0020 
  61 0088 0018 F240 		MOVX.A	#SLIP_ESC_ESC_ESC, &next_tx_ptr
  61      0000 0000 
  62               	.L17:
  63 0090 0018 E243 		MOVX.A	#2, &next_cnt
  63      0000 
  64 0096 0018 D253 		ADDX.A	#1, &tx_n
  64      0000 
  65 009c 4018 E243 		MOVX.B	#2, &tx_state
  65      0000 
  66 00a2 8000 0000 		BRA	#.L1
  67               	.L15:
  68 00a6 0018 F240 		MOVX.A	#SLIP_ESC_ESC_END, &next_tx_ptr
  68      0000 0000 
  69 00ae 8000 0000 		BRA	#.L17
  70               	.L31:
  71 00b2 8C00 0000 		MOVA	#__func__.4813, R12
  72 00b6 B013 0000 		CALLA	#chSysHalt
  73 00ba 0018 F253 		ADDX.A	#-1, &tx_n
  73      0000 
  74 00c0 8000 0000 		BRA	#.L17
  75               	.L30:
  76 00c4 8C00 0000 		MOVA	#__func__.4813, R12
  77 00c8 B013 0000 		CALLA	#chSysHalt
  78 00cc 8000 0000 		BRA	#.L1
  79               		.size	calc_next_buff, .-calc_next_buff
  80               		.section	.text.elyUARTDLLTxCB,"ax",@progbits
  81               		.balign 2
  82               		.global	elyUARTDLLTxCB
  83               		.type	elyUARTDLLTxCB, @function
  84               	elyUARTDLLTxCB:
  85               	; start of function
  86               	; framesize_regs:     0
  87               	; framesize_locals:   0
  88               	; framesize_outgoing: 0
  89               	; framesize:          0
  90               	; elim ap -> fp       4
  91               	; elim fp -> sp       0
  92               	; saved regs:(none)
  93               		; start of prologue
  94               		; end of prologue
  95 0000 4018 C293 		CMPX.B	#0, &done.4818 { JEQ	.L35
  95      0000 0024 
  96 0008 4018 C243 		MOVX.B	#0, &done.4818
  96      0000 
  97               	.L34:
  98               		; start of epilogue
GAS LISTING /tmp/cc8GNDAw.s 			page 3


  99 000e 1001      		RETA
 100               	.L35:
 101 0010 2E00 0000 		MOVA	&next_tx_ptr, R14
 102 0014 2D00 0000 		MOVA	&next_cnt, R13
 103 0018 B013 0000 		CALLA	#uartStartSendI
 104 001c 2C00 0000 		MOVA	&tx_n, R12
 105 0020 9C00 0000 		CMPA	#0, R12 { JNE	.L37
 105      0020 
 106 0026 4018 D243 		MOVX.B	#1, &done.4818
 106      0000 
 107 002c 8000 0000 		BRA	#.L34
 108               	.L37:
 109 0030 0018 5C82 		SUBX.A	&next_cnt, R12
 109      0000 
 110 0036 600C 0000 		MOVA	R12, &tx_n
 111 003a 9C00 0000 		CMPA	#0, R12 { JNE	.L38
 111      0020 
 112 0040 2C00 0000 		MOVA	&tx_active_buffer, R12
 113 0044 B013 0000 		CALLA	#elyNLFreeBufferCheckedI
 114 0048 0018 F240 		MOVX.A	#END.4819, &next_tx_ptr
 114      0000 0000 
 115 0050 0018 D243 		MOVX.A	#1, &next_cnt
 115      0000 
 116 0056 8000 0000 		BRA	#.L34
 117               	.L38:
 118 005a B013 0000 		CALLA	#calc_next_buff
 119 005e 8000 0000 		BRA	#.L34
 120               		.size	elyUARTDLLTxCB, .-elyUARTDLLTxCB
 121               		.section	.text.elyUARTDLLStartTx,"ax",@progbits
 122               		.balign 2
 123               		.global	elyUARTDLLStartTx
 124               		.type	elyUARTDLLStartTx, @function
 125               	elyUARTDLLStartTx:
 126               	; start of function
 127               	; framesize_regs:     8
 128               	; framesize_locals:   0
 129               	; framesize_outgoing: 0
 130               	; framesize:          8
 131               	; elim ap -> fp       12
 132               	; elim fp -> sp       0
 133               	; saved regs: R8 R10
 134               		; start of prologue
 135 0000 0A14      		PUSHM.A	#1, R10
 136 0002 0814      		PUSHM.A	#1, R8
 137               		; end of prologue
 138 0004 C80C      		MOVA	R12, R8
 139 0006 CA0D      		MOVA	R13, R10
 140 0008 CC0D      		MOVA	R13, R12
 141 000a B013 0000 		CALLA	#elyNLGetLength
 142 000e 600C 0000 		MOVA	R12, &tx_n
 143 0012 9C00 0000 		CMPA	#0, R12 { JEQ	.L40
 143      0024 
 144 0018 0018 C29C 		CMPX.A	R12, &elyNLMaxLen { JHS	.L41
 144      0000 002C 
 145               	.L40:
 146 0020 8C00 0000 		MOVA	#__func__.4825, R12
 147 0024 B013 0000 		CALLA	#chSysHalt
GAS LISTING /tmp/cc8GNDAw.s 			page 4


 148               	.L41:
 149 0028 2C00 0000 		MOVA	&tx_n, R12
 150 002c 9C00 0000 		CMPA	#0, R12 { JEQ	.L42
 150      0024 
 151 0032 0018 C29C 		CMPX.A	R12, &elyNLMaxLen { JHS	.L43
 151      0000 002C 
 152               	.L42:
 153 003a 8C00 0000 		MOVA	#__func__.4825, R12
 154 003e B013 0000 		CALLA	#chSysHalt
 155 0042 CC0A      		MOVA	R10, R12
 156 0044 B013 0000 		CALLA	#elyNLFreeBufferChecked
 157               	.L43:
 158 0048 600A 0000 		MOVA	R10, &tx_read_ptr
 159 004c 600A 0000 		MOVA	R10, &tx_active_buffer
 160 0050 4018 E243 		MOVX.B	#2, &tx_state
 160      0000 
 161 0056 8A00 0000 		MOVA	#calc_next_buff, R10
 162 005a 4A13      		CALLA	R10
 163               	 ; 347 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 164 005c 32C2 0343 		dint { nop
 165               	 ; 0 "" 2
 166               	 ; 348 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 167 0060 0343      		nop
 168               	 ; 0 "" 2
 169 0062 2E00 0000 		MOVA	&next_tx_ptr, R14
 170 0066 2D00 0000 		MOVA	&next_cnt, R13
 171 006a CC08      		MOVA	R8, R12
 172 006c B013 0000 		CALLA	#uartStartSendI
 173 0070 2C00 0000 		MOVA	&tx_n, R12
 174 0074 0018 5C82 		SUBX.A	&next_cnt, R12
 174      0000 
 175 007a 600C 0000 		MOVA	R12, &tx_n
 176 007e 9C00 0000 		CMPA	#0, R12 { JNE	.L44
 176      0020 
 177 0084 2C00 0000 		MOVA	&tx_active_buffer, R12
 178 0088 B013 0000 		CALLA	#elyNLFreeBufferCheckedI
 179 008c 0018 F240 		MOVX.A	#END.4824, &next_tx_ptr
 179      0000 0000 
 180 0094 0018 D243 		MOVX.A	#1, &next_cnt
 180      0000 
 181               	.L52:
 182               	 ; 355 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 183 009a 0343      		nop
 184               	 ; 0 "" 2
 185               	 ; 356 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 186 009c 0343 32D2 		nop { eint { nop
 186      0343 
 187               	 ; 0 "" 2
 188               		; start of epilogue
 189 00a2 0816      		POPM.A	#1, r8
 190 00a4 0A16      		POPM.A	#1, r10
 191 00a6 1001      		RETA
 192               	.L44:
 193 00a8 4A13      		CALLA	R10
 194 00aa 8000 0000 		BRA	#.L52
 195               		.size	elyUARTDLLStartTx, .-elyUARTDLLStartTx
 196               		.section	.text.elyUARTDLLRxInit,"ax",@progbits
GAS LISTING /tmp/cc8GNDAw.s 			page 5


 197               		.balign 2
 198               		.global	elyUARTDLLRxInit
 199               		.type	elyUARTDLLRxInit, @function
 200               	elyUARTDLLRxInit:
 201               	; start of function
 202               	; framesize_regs:     0
 203               	; framesize_locals:   0
 204               	; framesize_outgoing: 0
 205               	; framesize:          0
 206               	; elim ap -> fp       4
 207               	; elim fp -> sp       0
 208               	; saved regs:(none)
 209               		; start of prologue
 210               		; end of prologue
 211 0000 0018 D242 		MOVX.A	&nil, &uart_thd
 211      0000 0000 
 212               		; start of epilogue
 213 0008 1001      		RETA
 214               		.size	elyUARTDLLRxInit, .-elyUARTDLLRxInit
 215               		.section	.text.elyUARTDLLRxHandleBuffer,"ax",@progbits
 216               		.balign 2
 217               		.global	elyUARTDLLRxHandleBuffer
 218               		.type	elyUARTDLLRxHandleBuffer, @function
 219               	elyUARTDLLRxHandleBuffer:
 220               	; start of function
 221               	; framesize_regs:     28
 222               	; framesize_locals:   0
 223               	; framesize_outgoing: 0
 224               	; framesize:          28
 225               	; elim ap -> fp       32
 226               	; elim fp -> sp       0
 227               	; saved regs: R4 R5 R6 R7 R8 R9 R10
 228               		; start of prologue
 229 0000 6A14      		PUSHM.A	#7, R10
 230               		; end of prologue
 231 0002 2800 0000 		MOVA	&bytes_available, R8
 232 0006 8E00 0000 		MOVA	#rx_buf, R14
 233 000a 1C4E 0202 		MOV.W	514(R14), R12
 234 000e 0D4C      		MOV.W	R12, R13
 235 0010 1D53      		ADD.W	#1, R13
 236 0012 8E4D 0202 		MOV.W	R13, 514(R14)
 237 0016 5CF3      		AND.B	#1, R12
 238 0018 0D43      		MOV.W	#0,R13
 239 001a B013 0000 		CALLA	#__mspabi_slll_8
 240 001e 0D12 0C12 		PUSH.W	R13 { PUSH.W	R12 { POPM.A	#1, R10
 240      0A16 
 241 0024 AA00 0000 		ADDA	#rx_buf, R10
 242 0028 C50A      		MOVA	R10, R5
 243 002a E508      		ADDA	R8, R5
 244 002c 8700 0000 		MOVA	#elyNLGetBuffer, R7
 245 0030 8400 0000 		MOVA	#elyNLValidate, R4
 246 0034 8600 0000 		MOVA	#elyNLGetLength, R6
 247               	.L55:
 248 0038 DA05 0028 		CMPA	R5, R10 { JLO	.L76
 249 003c 7C40 FF00 		MOV.B	#255, R12
 250 0040 DC08 0028 		CMPA	R8, R12 { JLO	.L54
 251 0044 2C00 0000 		MOVA	&rx_active_buffer, R12
GAS LISTING /tmp/cc8GNDAw.s 			page 6


 252 0048 9C00 0000 		CMPA	#0, R12 { JEQ	.L78
 252      0024 
 253 004e B013 0000 		CALLA	#elyNLFreeBuffer
 254 0052 0018 C243 		MOVX.A	#0, &rx_active_buffer
 254      0000 
 255               	.L78:
 256 0058 4018 C243 		MOVX.B	#0, &rx_state
 256      0000 
 257               	.L54:
 258               		; start of epilogue
 259 005e 6416      		POPM.A	#7, r10
 260 0060 1001      		RETA
 261               	.L76:
 262 0062 694A      		MOV.B	@R10, R9
 263 0064 4018 C293 		CMPX.B	#0, &rx_state { JNE	.L56
 263      0000 0020 
 264 006c 0018 C293 		CMPX.A	#0, &rx_active_buffer { JNE	.L57
 264      0000 0020 
 265 0074 4713      		CALLA	R7
 266 0076 600C 0000 		MOVA	R12, &rx_active_buffer
 267               	.L57:
 268 007a 2C00 0000 		MOVA	&rx_active_buffer, R12
 269 007e 9C00 0000 		CMPA	#0, R12 { JEQ	.L54
 269      0024 
 270 0084 600C 0000 		MOVA	R12, &rx_write_ptr
 271 0088 0018 F240 		MOVX.A	#6, &rx_n.4833
 271      0600 0000 
 272 0090 4018 E243 		MOVX.B	#2, &rx_state
 272      0000 
 273 0096 4018 D243 		MOVX.B	#1, &header.4834
 273      0000 
 274               	.L56:
 275 009c 4018 5C42 		MOVX.B	&rx_state, R12
 275      0000 
 276 00a2 5C93 0024 		CMP.B	#1, R12 { JEQ	.L61
 277 00a6 6C93 0024 		CMP.B	#2, R12 { JEQ	.L62
 278 00aa 8C00 0000 		MOVA	#__func__.4851, R12
 279 00ae B013 0000 		CALLA	#chSysHalt
 280 00b2 8000 0000 		BRA	#.L68
 281               	.L61:
 282 00b6 7990 DCFF 		CMP.B	#-36, R9 { JEQ	.L64
 282      0024 
 283 00bc 7990 DDFF 		CMP.B	#-35, R9 { JEQ	.L65
 283      0024 
 284               	.L86:
 285 00c2 4018 C243 		MOVX.B	#0, &rx_state
 285      0000 
 286 00c8 8000 0000 		BRA	#.L55
 287               	.L64:
 288 00cc 2C00 0000 		MOVA	&rx_write_ptr, R12
 289 00d0 CD0C      		MOVA	R12, R13
 290 00d2 AD00 0100 		ADDA	#1, R13
 291 00d6 600D 0000 		MOVA	R13, &rx_write_ptr
 292 00da FC40 C0FF 		MOV.B	#-64, @R12
 292      0000 
 293               	.L66:
 294 00e0 0018 F253 		ADDX.A	#-1, &rx_n.4833
GAS LISTING /tmp/cc8GNDAw.s 			page 7


 294      0000 
 295 00e6 4018 E243 		MOVX.B	#2, &rx_state
 295      0000 
 296               	.L85:
 297 00ec AA00 0100 		ADDA	#1, R10
 298               	.L68:
 299 00f0 0018 C293 		CMPX.A	#0, &rx_n.4833 { JNE	.L55
 299      0000 0020 
 300 00f8 4018 C293 		CMPX.B	#0, &header.4834 { JEQ	.L55
 300      0000 0024 
 301 0100 2C00 0000 		MOVA	&rx_active_buffer, R12
 302 0104 4413      		CALLA	R4
 303 0106 4C93 0024 		CMP.B	#0, R12 { JEQ	.L75
 304 010a 2C00 0000 		MOVA	&rx_active_buffer, R12
 305 010e 4613      		CALLA	R6
 306 0110 AC0F FAFF 		ADDA	#-6, R12
 307 0114 600C 0000 		MOVA	R12, &rx_n.4833
 308 0118 4018 C243 		MOVX.B	#0, &header.4834
 308      0000 
 309 011e 8000 0000 		BRA	#.L55
 310               	.L65:
 311 0122 2C00 0000 		MOVA	&rx_write_ptr, R12
 312 0126 CD0C      		MOVA	R12, R13
 313 0128 AD00 0100 		ADDA	#1, R13
 314 012c 600D 0000 		MOVA	R13, &rx_write_ptr
 315 0130 FC40 DBFF 		MOV.B	#-37, @R12
 315      0000 
 316 0136 8000 0000 		BRA	#.L66
 317               	.L62:
 318 013a 7990 C0FF 		CMP.B	#-64, R9 { JEQ	.L70
 318      0024 
 319 0140 7990 DBFF 		CMP.B	#-37, R9 { JNE	.L84
 319      0020 
 320 0146 0018 C293 		CMPX.A	#0, &rx_n.4833 { JEQ	.L86
 320      0000 0024 
 321 014e 4018 D243 		MOVX.B	#1, &rx_state
 321      0000 
 322 0154 8000 0000 		BRA	#.L85
 323               	.L70:
 324 0158 0018 C293 		CMPX.A	#0, &rx_n.4833 { JNE	.L73
 324      0000 0020 
 325 0160 2C00 0000 		MOVA	&rx_active_buffer, R12
 326 0164 B013 0000 		CALLA	#elyNLRouteUART
 327 0168 0018 C243 		MOVX.A	#0, &rx_active_buffer
 327      0000 
 328               	.L73:
 329 016e 4018 C243 		MOVX.B	#0, &rx_state
 329      0000 
 330 0174 AA00 0100 		ADDA	#1, R10
 331 0178 8000 0000 		BRA	#.L55
 332               	.L84:
 333 017c 2C00 0000 		MOVA	&rx_n.4833, R12
 334 0180 9C00 0000 		CMPA	#0, R12 { JEQ	.L86
 334      0024 
 335 0186 2E00 0000 		MOVA	&rx_write_ptr, R14
 336 018a CD0E      		MOVA	R14, R13
 337 018c AD00 0100 		ADDA	#1, R13
GAS LISTING /tmp/cc8GNDAw.s 			page 8


 338 0190 600D 0000 		MOVA	R13, &rx_write_ptr
 339 0194 CE49 0000 		MOV.B	R9, @R14
 340 0198 AC0F FFFF 		ADDA	#-1, R12
 341 019c 600C 0000 		MOVA	R12, &rx_n.4833
 342 01a0 8000 0000 		BRA	#.L85
 343               	.L75:
 344 01a4 4018 C24C 		MOVX.B	R12, &rx_state
 344      0000 
 345 01aa 8000 0000 		BRA	#.L55
 346               		.size	elyUARTDLLRxHandleBuffer, .-elyUARTDLLRxHandleBuffer
 347               		.section	.text.elyUARTDLLTimeoutCB,"ax",@progbits
 348               		.balign 2
 349               		.global	elyUARTDLLTimeoutCB
 350               		.type	elyUARTDLLTimeoutCB, @function
 351               	elyUARTDLLTimeoutCB:
 352               	; start of function
 353               	; framesize_regs:     0
 354               	; framesize_locals:   0
 355               	; framesize_outgoing: 0
 356               	; framesize:          0
 357               	; elim ap -> fp       4
 358               	; elim fp -> sp       0
 359               	; saved regs:(none)
 360               		; start of prologue
 361               		; end of prologue
 362 0000 8C00 0000 		MOVA	#UARTDA1, R12
 363 0004 B013 0000 		CALLA	#uartStopReceiveI
 364 0008 3D40 0001 		MOV.W	#256, R13
 365 000c FD0C      		SUBA	R12, R13
 366 000e 600D 0000 		MOVA	R13, &bytes_available
 367 0012 6D42      		MOV.B	#4, R13
 368 0014 4E43      		MOV.B	#0, R14
 369 0016 2C00 0000 		MOVA	&uart_thd, R12
 370 001a B013 0000 		CALLA	#chEvtSignalI
 371               		; start of epilogue
 372 001e 1001      		RETA
 373               		.size	elyUARTDLLTimeoutCB, .-elyUARTDLLTimeoutCB
 374               		.section	.text.elyUARTDLLRxCharCB,"ax",@progbits
 375               		.balign 2
 376               		.global	elyUARTDLLRxCharCB
 377               		.type	elyUARTDLLRxCharCB, @function
 378               	elyUARTDLLRxCharCB:
 379               	; start of function
 380               	; framesize_regs:     8
 381               	; framesize_locals:   0
 382               	; framesize_outgoing: 0
 383               	; framesize:          8
 384               	; elim ap -> fp       12
 385               	; elim fp -> sp       0
 386               	; saved regs: R8 R10
 387               		; start of prologue
 388 0000 0A14      		PUSHM.A	#1, R10
 389 0002 0814      		PUSHM.A	#1, R8
 390               		; end of prologue
 391 0004 C80C      		MOVA	R12, R8
 392 0006 0A4D      		MOV.W	R13, R10
 393 0008 7C40 FF00 		MOV.B	#255, R12
GAS LISTING /tmp/cc8GNDAw.s 			page 9


 394 000c 0C9D 002C 		CMP.W	R13, R12 { JHS	.L89
 395 0010 8C00 0000 		MOVA	#__func__.4864, R12
 396 0014 B013 0000 		CALLA	#chSysHalt
 397               	.L89:
 398 0018 8E00 0000 		MOVA	#rx_buf, R14
 399 001c 4018 8243 		MOVX.W	#0, &rx_buf+514
 399      0000 
 400 0022 4018 9243 		MOVX.W	#1, &rx_buf+512
 400      0000 
 401 0028 CE4A 0000 		MOV.B	R10, @R14
 402 002c AE00 0100 		ADDA	#1, R14
 403 0030 7D40 FF00 		MOV.B	#255, R13
 404 0034 CC08      		MOVA	R8, R12
 405 0036 B013 0000 		CALLA	#uartStartReceiveI
 406 003a 3D40 E803 		MOV.W	#1000, R13
 407 003e 8C00 0000 		MOVA	#GPTDA1, R12
 408 0042 B013 0000 		CALLA	#gptStartOneShotI
 409               		; start of epilogue
 410 0046 0816      		POPM.A	#1, r8
 411 0048 0A16      		POPM.A	#1, r10
 412 004a 1001      		RETA
 413               		.size	elyUARTDLLRxCharCB, .-elyUARTDLLRxCharCB
 414               		.section	.text.elyUARTDLLRxCB,"ax",@progbits
 415               		.balign 2
 416               		.global	elyUARTDLLRxCB
 417               		.type	elyUARTDLLRxCB, @function
 418               	elyUARTDLLRxCB:
 419               	; start of function
 420               	; framesize_regs:     8
 421               	; framesize_locals:   0
 422               	; framesize_outgoing: 0
 423               	; framesize:          8
 424               	; elim ap -> fp       12
 425               	; elim fp -> sp       0
 426               	; saved regs: R8 R10
 427               		; start of prologue
 428 0000 0A14      		PUSHM.A	#1, R10
 429 0002 0814      		PUSHM.A	#1, R8
 430               		; end of prologue
 431 0004 CA0C      		MOVA	R12, R10
 432 0006 8E00 0000 		MOVA	#rx_buf, R14
 433 000a 1C4E 0002 		MOV.W	512(R14), R12
 434 000e 0D4C      		MOV.W	R12, R13
 435 0010 1D53      		ADD.W	#1, R13
 436 0012 8E4D 0002 		MOV.W	R13, 512(R14)
 437 0016 5CF3      		AND.B	#1, R12
 438 0018 0D43      		MOV.W	#0,R13
 439 001a B013 0000 		CALLA	#__mspabi_slll_8
 440 001e 0D12 0C12 		PUSH.W	R13 { PUSH.W	R12 { POPM.A	#1, R14
 440      0E16 
 441 0024 3840 0001 		MOV.W	#256, R8
 442 0028 AE00 0000 		ADDA	#rx_buf, R14
 443 002c CD08      		MOVA	R8, R13
 444 002e CC0A      		MOVA	R10, R12
 445 0030 B013 0000 		CALLA	#uartStartReceiveI
 446 0034 8A00 0000 		MOVA	#GPTDA1, R10
 447 0038 CC0A      		MOVA	R10, R12
GAS LISTING /tmp/cc8GNDAw.s 			page 10


 448 003a B013 0000 		CALLA	#gptStopTimerI
 449 003e 3D40 E803 		MOV.W	#1000, R13
 450 0042 CC0A      		MOVA	R10, R12
 451 0044 B013 0000 		CALLA	#gptStartOneShotI
 452 0048 6008 0000 		MOVA	R8, &bytes_available
 453 004c 6D42      		MOV.B	#4, R13
 454 004e 4E43      		MOV.B	#0, R14
 455 0050 2C00 0000 		MOVA	&uart_thd, R12
 456 0054 B013 0000 		CALLA	#chEvtSignalI
 457               		; start of epilogue
 458 0058 0816      		POPM.A	#1, r8
 459 005a 0A16      		POPM.A	#1, r10
 460 005c 1001      		RETA
 461               		.size	elyUARTDLLRxCB, .-elyUARTDLLRxCB
 462               		.section	.upper.rodata,"a",@progbits
 463               		.type	__func__.4864, @object
 464               		.size	__func__.4864, 19
 465               	__func__.4864:
 466 0000 656C 7955 		.string	"elyUARTDLLRxCharCB"
 466      4152 5444 
 466      4C4C 5278 
 466      4368 6172 
 466      4342 00
 467               		.type	__func__.4851, @object
 468               		.size	__func__.4851, 14
 469               	__func__.4851:
 470 0013 6861 6E64 		.string	"handle_buffer"
 470      6C65 5F62 
 470      7566 6665 
 470      7200 
 471               		.local	header.4834
 472               		.comm	header.4834,1,1
 473               		.local	rx_n.4833
 474               		.comm	rx_n.4833,4,2
 475               		.type	END.4824, @object
 476               		.size	END.4824, 1
 477               	END.4824:
 478 0021 C0        		.byte	-64
 479               		.type	__func__.4825, @object
 480               		.size	__func__.4825, 18
 481               	__func__.4825:
 482 0022 656C 7955 		.string	"elyUARTDLLStartTx"
 482      4152 5444 
 482      4C4C 5374 
 482      6172 7454 
 482      7800 
 483               		.type	END.4819, @object
 484               		.size	END.4819, 1
 485               	END.4819:
 486 0034 C0        		.byte	-64
 487               		.local	done.4818
 488               		.comm	done.4818,1,1
 489               		.type	__func__.4813, @object
 490               		.size	__func__.4813, 15
 491               	__func__.4813:
 492 0035 6361 6C63 		.string	"calc_next_buff"
 492      5F6E 6578 
GAS LISTING /tmp/cc8GNDAw.s 			page 11


 492      745F 6275 
 492      6666 00
 493               		.local	uart_thd
 494               		.comm	uart_thd,4,2
 495               		.section	.upper.data,"aw",@progbits
 496               		.type	tx_state, @object
 497               		.size	tx_state, 1
 498               	tx_state:
 499 0000 02        		.byte	2
 500               		.local	next_tx_ptr
 501               		.comm	next_tx_ptr,4,2
 502               		.local	next_cnt
 503               		.comm	next_cnt,4,2
 504               		.local	tx_read_ptr
 505               		.comm	tx_read_ptr,4,2
 506               		.local	tx_n
 507               		.comm	tx_n,4,2
 508               		.local	tx_active_buffer
 509               		.comm	tx_active_buffer,4,2
 510               		.local	bytes_available
 511               		.comm	bytes_available,4,2
 512               		.local	rx_write_ptr
 513               		.comm	rx_write_ptr,4,2
 514               		.section	.persistent,"aw"
 515               		.balign 2
 516               		.type	rx_active_buffer, @object
 517               		.size	rx_active_buffer, 4
 518               	rx_active_buffer:
 519 0000 0000 0000 		.zero	4
 520               		.local	rx_state
 521               		.comm	rx_state,1,1
 522               		.local	rx_buf
 523               		.comm	rx_buf,516,2
 524               		.section	.upper.rodata
 525               		.type	SLIP_ESC_ESC_END, @object
 526               		.size	SLIP_ESC_ESC_END, 2
 527               	SLIP_ESC_ESC_END:
 528 0044 DB        		.byte	-37
 529 0045 DC        		.byte	-36
 530               		.type	SLIP_ESC_ESC_ESC, @object
 531               		.size	SLIP_ESC_ESC_ESC, 2
 532               	SLIP_ESC_ESC_ESC:
 533 0046 DB        		.byte	-37
 534 0047 DD        		.byte	-35
 535               		.ident	"GCC: (SOMNIUM Technologies Limited - msp430-gcc 6.2.1.16) 6.2.1 20161212"
GAS LISTING /tmp/cc8GNDAw.s 			page 12


DEFINED SYMBOLS
                            *ABS*:0000000000000000 slip_uart_dll.c
     /tmp/cc8GNDAw.s:6      .text.calc_next_buff:0000000000000000 calc_next_buff
     /tmp/cc8GNDAw.s:498    .upper.data:0000000000000000 tx_state
     /tmp/cc8GNDAw.s:505    .bss:0000000000000014 tx_read_ptr
     /tmp/cc8GNDAw.s:501    .bss:000000000000000c next_tx_ptr
     /tmp/cc8GNDAw.s:503    .bss:0000000000000010 next_cnt
     /tmp/cc8GNDAw.s:507    .bss:0000000000000018 tx_n
     /tmp/cc8GNDAw.s:532    .upper.rodata:0000000000000046 SLIP_ESC_ESC_ESC
     /tmp/cc8GNDAw.s:527    .upper.rodata:0000000000000044 SLIP_ESC_ESC_END
     /tmp/cc8GNDAw.s:491    .upper.rodata:0000000000000035 __func__.4813
     /tmp/cc8GNDAw.s:84     .text.elyUARTDLLTxCB:0000000000000000 elyUARTDLLTxCB
     /tmp/cc8GNDAw.s:474    .bss:0000000000000006 done.4818
     /tmp/cc8GNDAw.s:509    .bss:000000000000001c tx_active_buffer
     /tmp/cc8GNDAw.s:485    .upper.rodata:0000000000000034 END.4819
     /tmp/cc8GNDAw.s:125    .text.elyUARTDLLStartTx:0000000000000000 elyUARTDLLStartTx
     /tmp/cc8GNDAw.s:481    .upper.rodata:0000000000000022 __func__.4825
     /tmp/cc8GNDAw.s:477    .upper.rodata:0000000000000021 END.4824
     /tmp/cc8GNDAw.s:200    .text.elyUARTDLLRxInit:0000000000000000 elyUARTDLLRxInit
     /tmp/cc8GNDAw.s:494    .bss:0000000000000008 uart_thd
     /tmp/cc8GNDAw.s:219    .text.elyUARTDLLRxHandleBuffer:0000000000000000 elyUARTDLLRxHandleBuffer
     /tmp/cc8GNDAw.s:511    .bss:0000000000000020 bytes_available
     /tmp/cc8GNDAw.s:523    .bss:000000000000002a rx_buf
     /tmp/cc8GNDAw.s:518    .persistent:0000000000000000 rx_active_buffer
     /tmp/cc8GNDAw.s:513    .bss:0000000000000028 rx_state
     /tmp/cc8GNDAw.s:513    .bss:0000000000000024 rx_write_ptr
     /tmp/cc8GNDAw.s:474    .bss:0000000000000002 rx_n.4833
                             .bss:0000000000000000 header.4834
     /tmp/cc8GNDAw.s:469    .upper.rodata:0000000000000013 __func__.4851
     /tmp/cc8GNDAw.s:351    .text.elyUARTDLLTimeoutCB:0000000000000000 elyUARTDLLTimeoutCB
     /tmp/cc8GNDAw.s:378    .text.elyUARTDLLRxCharCB:0000000000000000 elyUARTDLLRxCharCB
     /tmp/cc8GNDAw.s:465    .upper.rodata:0000000000000000 __func__.4864
     /tmp/cc8GNDAw.s:418    .text.elyUARTDLLRxCB:0000000000000000 elyUARTDLLRxCB
     /tmp/cc8GNDAw.s:53     .text.calc_next_buff:000000000000006c .L3
     /tmp/cc8GNDAw.s:75     .text.calc_next_buff:00000000000000c4 .L30
     /tmp/cc8GNDAw.s:43     .text.calc_next_buff:000000000000004c .L6
     /tmp/cc8GNDAw.s:35     .text.calc_next_buff:000000000000003a .L11
     /tmp/cc8GNDAw.s:31     .text.calc_next_buff:000000000000002e .L33
     /tmp/cc8GNDAw.s:29     .text.calc_next_buff:000000000000002a .L5
     /tmp/cc8GNDAw.s:67     .text.calc_next_buff:00000000000000a6 .L15
     /tmp/cc8GNDAw.s:70     .text.calc_next_buff:00000000000000b2 .L31
     /tmp/cc8GNDAw.s:38     .text.calc_next_buff:0000000000000046 .L1
     /tmp/cc8GNDAw.s:62     .text.calc_next_buff:0000000000000090 .L17
     /tmp/cc8GNDAw.s:100    .text.elyUARTDLLTxCB:0000000000000010 .L35
     /tmp/cc8GNDAw.s:108    .text.elyUARTDLLTxCB:0000000000000030 .L37
     /tmp/cc8GNDAw.s:97     .text.elyUARTDLLTxCB:000000000000000e .L34
     /tmp/cc8GNDAw.s:117    .text.elyUARTDLLTxCB:000000000000005a .L38
     /tmp/cc8GNDAw.s:145    .text.elyUARTDLLStartTx:0000000000000020 .L40
     /tmp/cc8GNDAw.s:148    .text.elyUARTDLLStartTx:0000000000000028 .L41
     /tmp/cc8GNDAw.s:152    .text.elyUARTDLLStartTx:000000000000003a .L42
     /tmp/cc8GNDAw.s:157    .text.elyUARTDLLStartTx:0000000000000048 .L43
     /tmp/cc8GNDAw.s:192    .text.elyUARTDLLStartTx:00000000000000a8 .L44
     /tmp/cc8GNDAw.s:181    .text.elyUARTDLLStartTx:000000000000009a .L52
     /tmp/cc8GNDAw.s:261    .text.elyUARTDLLRxHandleBuffer:0000000000000062 .L76
     /tmp/cc8GNDAw.s:257    .text.elyUARTDLLRxHandleBuffer:000000000000005e .L54
     /tmp/cc8GNDAw.s:255    .text.elyUARTDLLRxHandleBuffer:0000000000000058 .L78
     /tmp/cc8GNDAw.s:274    .text.elyUARTDLLRxHandleBuffer:000000000000009c .L56
GAS LISTING /tmp/cc8GNDAw.s 			page 13


     /tmp/cc8GNDAw.s:267    .text.elyUARTDLLRxHandleBuffer:000000000000007a .L57
     /tmp/cc8GNDAw.s:281    .text.elyUARTDLLRxHandleBuffer:00000000000000b6 .L61
     /tmp/cc8GNDAw.s:317    .text.elyUARTDLLRxHandleBuffer:000000000000013a .L62
     /tmp/cc8GNDAw.s:298    .text.elyUARTDLLRxHandleBuffer:00000000000000f0 .L68
     /tmp/cc8GNDAw.s:287    .text.elyUARTDLLRxHandleBuffer:00000000000000cc .L64
     /tmp/cc8GNDAw.s:310    .text.elyUARTDLLRxHandleBuffer:0000000000000122 .L65
     /tmp/cc8GNDAw.s:247    .text.elyUARTDLLRxHandleBuffer:0000000000000038 .L55
     /tmp/cc8GNDAw.s:343    .text.elyUARTDLLRxHandleBuffer:00000000000001a4 .L75
     /tmp/cc8GNDAw.s:293    .text.elyUARTDLLRxHandleBuffer:00000000000000e0 .L66
     /tmp/cc8GNDAw.s:323    .text.elyUARTDLLRxHandleBuffer:0000000000000158 .L70
     /tmp/cc8GNDAw.s:332    .text.elyUARTDLLRxHandleBuffer:000000000000017c .L84
     /tmp/cc8GNDAw.s:284    .text.elyUARTDLLRxHandleBuffer:00000000000000c2 .L86
     /tmp/cc8GNDAw.s:296    .text.elyUARTDLLRxHandleBuffer:00000000000000ec .L85
     /tmp/cc8GNDAw.s:328    .text.elyUARTDLLRxHandleBuffer:000000000000016e .L73
     /tmp/cc8GNDAw.s:397    .text.elyUARTDLLRxCharCB:0000000000000018 .L89

UNDEFINED SYMBOLS
chSysHalt
uartStartSendI
elyNLFreeBufferCheckedI
elyNLGetLength
elyNLMaxLen
elyNLFreeBufferChecked
nil
__mspabi_slll_8
elyNLGetBuffer
elyNLValidate
elyNLFreeBuffer
elyNLRouteUART
UARTDA1
uartStopReceiveI
chEvtSignalI
uartStartReceiveI
GPTDA1
gptStartOneShotI
gptStopTimerI
__crt0_init_bss
__crt0_move_highdata
