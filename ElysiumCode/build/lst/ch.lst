GAS LISTING /tmp/ccSntYig.s 			page 1


   1               		.file	"ch.c"
   2               		.section	.text.port_init,"ax",@progbits
   3               		.balign 2
   4               		.type	port_init, @function
   5               	port_init:
   6               	; start of function
   7               	; framesize_regs:     0
   8               	; framesize_locals:   0
   9               	; framesize_outgoing: 0
  10               	; framesize:          0
  11               	; elim ap -> fp       4
  12               	; elim fp -> sp       0
  13               	; saved regs:(none)
  14               		; start of prologue
  15               		; end of prologue
  16 0000 4018 C243 		MOVX.B	#0, &__msp430x_in_isr
  16      0000 
  17               		; start of epilogue
  18 0006 1001      		RETA
  19               		.size	port_init, .-port_init
  20               		.section	.text.port_unlock,"ax",@progbits
  21               		.balign 2
  22               		.type	port_unlock, @function
  23               	port_unlock:
  24               	; start of function
  25               	; framesize_regs:     0
  26               	; framesize_locals:   0
  27               	; framesize_outgoing: 0
  28               	; framesize:          0
  29               	; elim ap -> fp       4
  30               	; elim fp -> sp       0
  31               	; saved regs:(none)
  32               		; start of prologue
  33               		; end of prologue
  34               	 ; 355 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
  35 0000 0343      		nop
  36               	 ; 0 "" 2
  37               	 ; 356 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
  38 0002 0343 32D2 		nop { eint { nop
  38      0343 
  39               	 ; 0 "" 2
  40               		; start of epilogue
  41 0008 1001      		RETA
  42               		.size	port_unlock, .-port_unlock
  43               		.section	.text.port_suspend,"ax",@progbits
  44               		.balign 2
  45               		.type	port_suspend, @function
  46               	port_suspend:
  47               	; start of function
  48               	; framesize_regs:     0
  49               	; framesize_locals:   0
  50               	; framesize_outgoing: 0
  51               	; framesize:          0
  52               	; elim ap -> fp       4
  53               	; elim fp -> sp       0
  54               	; saved regs:(none)
  55               		; start of prologue
GAS LISTING /tmp/ccSntYig.s 			page 2


  56               		; end of prologue
  57               	 ; 389 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
  58 0000 32C2 0343 		dint { nop
  59               	 ; 0 "" 2
  60               	 ; 390 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
  61 0004 0343      		nop
  62               	 ; 0 "" 2
  63               		; start of epilogue
  64 0006 1001      		RETA
  65               		.size	port_suspend, .-port_suspend
  66               		.set	port_lock,port_suspend
  67               		.set	port_disable,port_suspend
  68               		.global	nil
  69               		.section	.upper.bss,"aw",@nobits
  70               		.balign 2
  71               		.type	nil, @object
  72               		.size	nil, 78
  73               	nil:
  74 0000 0000 0000 		.zero	78
  74      0000 0000 
  74      0000 0000 
  74      0000 0000 
  74      0000 0000 
  75               		.section	.text.chSysInit,"ax",@progbits
  76               		.balign 2
  77               		.global	chSysInit
  78               		.type	chSysInit, @function
  79               	chSysInit:
  80               	; start of function
  81               	; attributes: 
  82               	; framesize_regs:     0
  83               	; framesize_locals:   20
  84               	; framesize_outgoing: 0
  85               	; framesize:          20
  86               	; elim ap -> fp       4
  87               	; elim fp -> sp       20
  88               	; saved regs:(none)
  89               		; start of prologue
  90 0000 B100 1400 		SUBA	#20, R1
  91               		; end of prologue
  92 0004 0018 F140 		MOVX.A	#nil+14, 16(R1)
  92      0000 1000 
  93 000c 0018 F140 		MOVX.A	#nil_thd_configs, 12(R1)
  93      0000 0C00 
  94 0014 8000 0000 		BRA	#.L5
  95               	.L6:
  96 0018 3C01 0C00 		MOVA	12(R1), R12
  97 001c 3C0C 0400 		MOVA	4(R12), R12
  98 0020 CD0C      		MOVA	R12, R13
  99 0022 AD0F E0FF 		ADDA	#-32, R13
 100 0026 3C01 1000 		MOVA	16(R1), R12
 101 002a 7C0D 0000 		MOVA	R13, @R12
 102 002e 3C01 1000 		MOVA	16(R1), R12
 103 0032 0C0C      		MOVA	@R12, R12
 104 0034 3D01 0C00 		MOVA	12(R1), R13
 105 0038 3D0D 0C00 		MOVA	12(R13), R13
 106 003c 710D 0800 		MOVA	R13, 8(R1)
GAS LISTING /tmp/ccSntYig.s 			page 3


 107 0040 9C41 0800 		MOV.W	8(R1), @R12
 107      0000 
 108 0046 3E01 0800 		MOVA	8(R1), R14
 109 004a 0E14 0D17 		PUSHM.A	#1,R14 { POPM.W	#1,R13 { POPM.W	#1,R13
 109      0D17 
 110 0050 7DF0 0F00 		AND.B	#15, R13
 111 0054 5E4C 0200 		MOV.B	2(R12), R14
 112 0058 7EF0 F0FF 		AND.B	#-16, R14
 113 005c 4DDE      		BIS.B	R14, R13
 114 005e CC4D 0200 		MOV.B	R13, 2(R12)
 115 0062 3C01 1000 		MOVA	16(R1), R12
 116 0066 0C0C      		MOVA	@R12, R12
 117 0068 3D01 0C00 		MOVA	12(R1), R13
 118 006c 3D0D 1000 		MOVA	16(R13), R13
 119 0070 710D 0400 		MOVA	R13, 4(R1)
 120 0074 9C41 0400 		MOV.W	4(R1), 4(R12)
 120      0400 
 121 007a 3E01 0400 		MOVA	4(R1), R14
 122 007e 0E14 0D17 		PUSHM.A	#1,R14 { POPM.W	#1,R13 { POPM.W	#1,R13
 122      0D17 
 123 0084 7DF0 0F00 		AND.B	#15, R13
 124 0088 5E4C 0600 		MOV.B	6(R12), R14
 125 008c 7EF0 F0FF 		AND.B	#-16, R14
 126 0090 4DDE      		BIS.B	R14, R13
 127 0092 CC4D 0600 		MOV.B	R13, 6(R12)
 128 0096 3C01 1000 		MOVA	16(R1), R12
 129 009a 0C0C      		MOVA	@R12, R12
 130 009c 0018 F140 		MOVX.A	#_port_thread_start, @R1
 130      0000 0000 
 131 00a4 AC41 1C00 		MOV.W	@R1, 28(R12)
 132 00a8 0E01      		MOVA	@R1, R14
 133 00aa 0E14 0D17 		PUSHM.A	#1,R14 { POPM.W	#1,R13 { POPM.W	#1,R13
 133      0D17 
 134 00b0 7DF0 0F00 		AND.B	#15, R13
 135 00b4 5E4C 1E00 		MOV.B	30(R12), R14
 136 00b8 7EF0 F0FF 		AND.B	#-16, R14
 137 00bc 4DDE      		BIS.B	R14, R13
 138 00be CC4D 1E00 		MOV.B	R13, 30(R12)
 139 00c2 0018 F150 		ADDX.A	#16, 16(R1)
 139      1000 1000 
 140 00ca 0018 F150 		ADDX.A	#20, 12(R1)
 140      1400 0C00 
 141               	.L5:
 142 00d2 0018 F190 		CMPX.A	#nil+62, 16(R1) { JLO	.L6
 142      0000 1000 
 142      0028 
 143 00dc B013 0000 		CALLA	#port_suspend
 144 00e0 B013 0000 		CALLA	#_heap_init
 145 00e4 B013 0000 		CALLA	#port_init
 146 00e8 0018 F240 		MOVX.A	#nil+14, &nil+4
 146      0000 0000 
 147 00f0 2C00 0000 		MOVA	&nil+4, R12
 148 00f4 600C 0000 		MOVA	R12, &nil
 149 00f8 2C00 0000 		MOVA	&nil, R12
 150 00fc 3D01 1000 		MOVA	16(R1), R13
 151 0100 B013 0000 		CALLA	#_port_switch
 152 0104 B013 0000 		CALLA	#port_unlock
GAS LISTING /tmp/ccSntYig.s 			page 4


 153 0108 0343      		NOP
 154               		; start of epilogue
 155 010a A100 1400 		ADDA	#20, R1
 156 010e 1001      		RETA
 157               		.size	chSysInit, .-chSysInit
 158               		.section	.text.chSysHalt,"ax",@progbits
 159               		.balign 2
 160               		.global	chSysHalt
 161               		.type	chSysHalt, @function
 162               	chSysHalt:
 163               	; start of function
 164               	; framesize_regs:     4
 165               	; framesize_locals:   0
 166               	; framesize_outgoing: 0
 167               	; framesize:          4
 168               	; elim ap -> fp       8
 169               	; elim fp -> sp       0
 170               	; saved regs: R10
 171               		; start of prologue
 172 0000 0A14      		PUSHM.A	#1, R10
 173               		; end of prologue
 174 0002 CA0C      		MOVA	R12, R10
 175 0004 B013 0000 		CALLA	#port_disable
 176 0008 600A 0000 		MOVA	R10, &nil+10
 177               	.L8:
 178 000c 8000 0000 		BRA	#.L8
 179               		.size	chSysHalt, .-chSysHalt
 180               		.section	.text.chSysTimerHandlerI,"ax",@progbits
 181               		.balign 2
 182               		.global	chSysTimerHandlerI
 183               		.type	chSysTimerHandlerI, @function
 184               	chSysTimerHandlerI:
 185               	; start of function
 186               	; framesize_regs:     12
 187               	; framesize_locals:   0
 188               	; framesize_outgoing: 0
 189               	; framesize:          12
 190               	; elim ap -> fp       16
 191               	; elim fp -> sp       0
 192               	; saved regs: R6 R8 R10
 193               		; start of prologue
 194 0000 0A14      		PUSHM.A	#1, R10
 195 0002 0814      		PUSHM.A	#1, R8
 196 0004 0614      		PUSHM.A	#1, R6
 197               		; end of prologue
 198 0006 8800 0000 		MOVA	#nil, R8
 199 000a 9853 0800 		ADD.W	#1, 8(R8)
 200 000e A800 1400 		ADDA	#20, R8
 201 0012 8A00 0000 		MOVA	#chSchReadyI, R10
 202 0016 860F FFFF 		MOVA	#-1, R6
 203               	.L17:
 204 001a CC08      		MOVA	R8, R12
 205 001c AC0F FAFF 		ADDA	#-6, R12
 206 0020 1D4C 0A00 		MOV.W	10(R12), R13
 207 0024 0D93 0024 		CMP.W	#0, R13 { JEQ	.L11
 208 0028 5D48 FEFF 		MOV.B	-2(R8), R13
 209 002c 0D93 0020 		CMP.W	#0, R13 { JNE	.L12
GAS LISTING /tmp/ccSntYig.s 			page 5


 210 0030 B013 0000 		CALLA	#port_disable
 211 0034 0018 F240 		MOVX.A	#__func__.2607, &nil+10
 211      0000 0000 
 212               	.L13:
 213 003c 8000 0000 		BRA	#.L13
 214               	.L18:
 215 0040 C80C      		MOVA	R12, R8
 216 0042 8000 0000 		BRA	#.L17
 217               	.L12:
 218 0046 1E4C 0A00 		MOV.W	10(R12), R14
 219 004a 3E53      		ADD.W	#-1, R14
 220 004c 8C4E 0A00 		MOV.W	R14, 10(R12)
 221 0050 0E93 0020 		CMP.W	#0, R14 { JNE	.L11
 222 0054 7D90 0300 		CMP.B	#3, R13 { JNE	.L15
 222      0020 
 223 005a 0E08      		MOVA	@R8, R14
 224 005c 9E53 0000 		ADD.W	#1, @R14
 225               	.L16:
 226 0060 CD06      		MOVA	R6, R13
 227 0062 4A13      		CALLA	R10
 228               	.L11:
 229 0064 CC08      		MOVA	R8, R12
 230 0066 AC00 1000 		ADDA	#16, R12
 231 006a A800 0A00 		ADDA	#10, R8
 232 006e 9800 0000 		CMPA	#nil+62, R8 { JLO	.L18
 232      0028 
 233               		; start of epilogue
 234 0074 0616      		POPM.A	#1, r6
 235 0076 0816      		POPM.A	#1, r8
 236 0078 0A16      		POPM.A	#1, r10
 237 007a 1001      		RETA
 238               	.L15:
 239 007c 6D93 0020 		CMP.B	#2, R13 { JNE	.L16
 240 0080 0E08      		MOVA	@R8, R14
 241 0082 0018 CE43 		MOVX.A	#0, @R14
 241      0000 
 242 0088 8000 0000 		BRA	#.L16
 243               		.size	chSysTimerHandlerI, .-chSysTimerHandlerI
 244               		.section	.text.chSysUnconditionalLock,"ax",@progbits
 245               		.balign 2
 246               		.global	chSysUnconditionalLock
 247               		.type	chSysUnconditionalLock, @function
 248               	chSysUnconditionalLock:
 249               	; start of function
 250               	; framesize_regs:     0
 251               	; framesize_locals:   0
 252               	; framesize_outgoing: 0
 253               	; framesize:          0
 254               	; elim ap -> fp       4
 255               	; elim fp -> sp       0
 256               	; saved regs:(none)
 257               		; start of prologue
 258               		; end of prologue
 259               	 ; 314 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 260 0000 0C42      		mov SR, R12
 261               	 ; 0 "" 2
 262 0002 4018 3CB2 		BITX.W	#8, R12 { JEQ	.L19
GAS LISTING /tmp/ccSntYig.s 			page 6


 262      0024 
 263 0008 B013 0000 		CALLA	#port_lock
 264               	.L19:
 265               		; start of epilogue
 266 000c 1001      		RETA
 267               		.size	chSysUnconditionalLock, .-chSysUnconditionalLock
 268               		.section	.text.chSysUnconditionalUnlock,"ax",@progbits
 269               		.balign 2
 270               		.global	chSysUnconditionalUnlock
 271               		.type	chSysUnconditionalUnlock, @function
 272               	chSysUnconditionalUnlock:
 273               	; start of function
 274               	; framesize_regs:     0
 275               	; framesize_locals:   0
 276               	; framesize_outgoing: 0
 277               	; framesize:          0
 278               	; elim ap -> fp       4
 279               	; elim fp -> sp       0
 280               	; saved regs:(none)
 281               		; start of prologue
 282               		; end of prologue
 283               	 ; 314 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 284 0000 0C42      		mov SR, R12
 285               	 ; 0 "" 2
 286 0002 3CB2 0020 		BIT.W	#8, R12 { JNE	.L24
 287 0006 B013 0000 		CALLA	#port_unlock
 288               	.L24:
 289               		; start of epilogue
 290 000a 1001      		RETA
 291               		.size	chSysUnconditionalUnlock, .-chSysUnconditionalUnlock
 292               		.section	.text.chSysGetStatusAndLockX,"ax",@progbits
 293               		.balign 2
 294               		.global	chSysGetStatusAndLockX
 295               		.type	chSysGetStatusAndLockX, @function
 296               	chSysGetStatusAndLockX:
 297               	; start of function
 298               	; framesize_regs:     4
 299               	; framesize_locals:   0
 300               	; framesize_outgoing: 0
 301               	; framesize:          4
 302               	; elim ap -> fp       8
 303               	; elim fp -> sp       0
 304               	; saved regs: R10
 305               		; start of prologue
 306 0000 0A14      		PUSHM.A	#1, R10
 307               		; end of prologue
 308               	 ; 314 "../ChibiOS-Contrib/os/common/ports/MSP430X/chcore.h" 1
 309 0002 0A42      		mov SR, R10
 310               	 ; 0 "" 2
 311 0004 4018 3AB2 		BITX.W	#8, R10 { JEQ	.L27
 311      0024 
 312 000a 4018 C293 		CMPX.B	#0, &__msp430x_in_isr { JNE	.L27
 312      0000 0020 
 313 0012 B013 0000 		CALLA	#port_lock
 314               	.L27:
 315 0016 0C4A      		MOV.W	R10, R12
 316               		; start of epilogue
GAS LISTING /tmp/ccSntYig.s 			page 7


 317 0018 0A16      		POPM.A	#1, r10
 318 001a 1001      		RETA
 319               		.size	chSysGetStatusAndLockX, .-chSysGetStatusAndLockX
 320               		.section	.text.chSysRestoreStatusX,"ax",@progbits
 321               		.balign 2
 322               		.global	chSysRestoreStatusX
 323               		.type	chSysRestoreStatusX, @function
 324               	chSysRestoreStatusX:
 325               	; start of function
 326               	; framesize_regs:     0
 327               	; framesize_locals:   0
 328               	; framesize_outgoing: 0
 329               	; framesize:          0
 330               	; elim ap -> fp       4
 331               	; elim fp -> sp       0
 332               	; saved regs:(none)
 333               		; start of prologue
 334               		; end of prologue
 335 0000 4018 3CB2 		BITX.W	#8, R12 { JEQ	.L31
 335      0024 
 336 0006 4018 C293 		CMPX.B	#0, &__msp430x_in_isr { JNE	.L31
 336      0000 0020 
 337 000e B013 0000 		CALLA	#chSchRescheduleS
 338 0012 B013 0000 		CALLA	#port_unlock
 339               	.L31:
 340               		; start of epilogue
 341 0016 1001      		RETA
 342               		.size	chSysRestoreStatusX, .-chSysRestoreStatusX
 343               		.section	.text.chSchReadyI,"ax",@progbits
 344               		.balign 2
 345               		.global	chSchReadyI
 346               		.type	chSchReadyI, @function
 347               	chSchReadyI:
 348               	; start of function
 349               	; framesize_regs:     4
 350               	; framesize_locals:   4
 351               	; framesize_outgoing: 0
 352               	; framesize:          8
 353               	; elim ap -> fp       8
 354               	; elim fp -> sp       4
 355               	; saved regs: R10
 356               		; start of prologue
 357 0000 0A14      		PUSHM.A	#1, R10
 358 0002 B100 0400 		SUBA	#4, R1
 359               		; end of prologue
 360 0006 710D 0000 		MOVA	R13, @R1
 361 000a 9C00 0000 		CMPA	#nil+14, R12 { JLO	.L37
 361      0028 
 362 0010 9C00 0000 		CMPA	#nil+62, R12 { JLO	.L38
 362      0028 
 363               	.L37:
 364 0016 B013 0000 		CALLA	#port_disable
 365 001a 0018 F240 		MOVX.A	#__func__.2627, &nil+10
 365      0000 0000 
 366               	.L39:
 367 0022 8000 0000 		BRA	#.L39
 368               	.L38:
GAS LISTING /tmp/ccSntYig.s 			page 8


 369 0026 CC93 0400 		CMP.B	#0, 4(R12) { JNE	.L40
 369      0020 
 370 002c B013 0000 		CALLA	#port_disable
 371 0030 0018 F240 		MOVX.A	#__func__.2627, &nil+10
 371      0000 0000 
 372               	.L41:
 373 0038 8000 0000 		BRA	#.L41
 374               	.L40:
 375 003c 8E00 0000 		MOVA	#nil, R14
 376 0040 3A0E 0400 		MOVA	4(R14), R10
 377 0044 0018 C29A 		CMPX.A	R10, &nil { JHS	.L42
 377      0000 002C 
 378 004c B013 0000 		CALLA	#port_disable
 379 0050 0018 F240 		MOVX.A	#__func__.2627, &nil+10
 379      0000 0000 
 380               	.L43:
 381 0058 8000 0000 		BRA	#.L43
 382               	.L42:
 383 005c AC41 0600 		MOV.W	@R1, 6(R12)
 384 0060 0F01      		MOVA	@R1, R15
 385 0062 0F14 0D17 		PUSHM.A	#1,R15 { POPM.W	#1,R13 { POPM.W	#1,R13
 385      0D17 
 386 0068 7DF0 0F00 		AND.B	#15, R13
 387 006c 5F4C 0800 		MOV.B	8(R12), R15
 388 0070 7FF0 F0FF 		AND.B	#-16, R15
 389 0074 4FDD      		BIS.B	R13, R15
 390 0076 CC4F 0800 		MOV.B	R15, 8(R12)
 391 007a CC43 0400 		MOV.B	#0, 4(R12)
 392 007e 8C43 0A00 		MOV.W	#0, 10(R12)
 393 0082 DC0A 002C 		CMPA	R10, R12 { JHS	.L44
 394 0086 7E0C 0400 		MOVA	R12, 4(R14)
 395               	.L44:
 396               		; start of epilogue
 397 008a A100 0400 		ADDA	#4, R1
 398 008e 0A16      		POPM.A	#1, r10
 399 0090 1001      		RETA
 400               		.size	chSchReadyI, .-chSchReadyI
 401               		.section	.text.chSchIsPreemptionRequired,"ax",@progbits
 402               		.balign 2
 403               		.global	chSchIsPreemptionRequired
 404               		.type	chSchIsPreemptionRequired, @function
 405               	chSchIsPreemptionRequired:
 406               	; start of function
 407               	; framesize_regs:     0
 408               	; framesize_locals:   0
 409               	; framesize_outgoing: 0
 410               	; framesize:          0
 411               	; elim ap -> fp       4
 412               	; elim fp -> sp       0
 413               	; saved regs:(none)
 414               		; start of prologue
 415               		; end of prologue
 416 0000 5C43      		MOV.B	#1, R12
 417 0002 0018 D292 		CMPX.A	&nil+4, &nil { JNE	.L46
 417      0000 0000 
 417      0020 
 418 000c 4C43      		MOV.B	#0, R12
GAS LISTING /tmp/ccSntYig.s 			page 9


 419               	.L46:
 420               		; start of epilogue
 421 000e 1001      		RETA
 422               		.size	chSchIsPreemptionRequired, .-chSchIsPreemptionRequired
 423               		.section	.text.chSchDoReschedule,"ax",@progbits
 424               		.balign 2
 425               		.global	chSchDoReschedule
 426               		.type	chSchDoReschedule, @function
 427               	chSchDoReschedule:
 428               	; start of function
 429               	; framesize_regs:     0
 430               	; framesize_locals:   0
 431               	; framesize_outgoing: 0
 432               	; framesize:          0
 433               	; elim ap -> fp       4
 434               	; elim fp -> sp       0
 435               	; saved regs:(none)
 436               		; start of prologue
 437               		; end of prologue
 438 0000 8E00 0000 		MOVA	#nil, R14
 439 0004 0D0E      		MOVA	@R14, R13
 440 0006 3C0E 0400 		MOVA	4(R14), R12
 441 000a 7E0C 0000 		MOVA	R12, @R14
 442 000e B013 0000 		CALLA	#_port_switch
 443               		; start of epilogue
 444 0012 1001      		RETA
 445               		.size	chSchDoReschedule, .-chSchDoReschedule
 446               		.section	.text.chSchRescheduleS,"ax",@progbits
 447               		.balign 2
 448               		.global	chSchRescheduleS
 449               		.type	chSchRescheduleS, @function
 450               	chSchRescheduleS:
 451               	; start of function
 452               	; framesize_regs:     0
 453               	; framesize_locals:   0
 454               	; framesize_outgoing: 0
 455               	; framesize:          0
 456               	; elim ap -> fp       4
 457               	; elim fp -> sp       0
 458               	; saved regs:(none)
 459               		; start of prologue
 460               		; end of prologue
 461 0000 0018 D292 		CMPX.A	&nil+4, &nil { JEQ	.L48
 461      0000 0000 
 461      0024 
 462 000a B013 0000 		CALLA	#chSchDoReschedule
 463               	.L48:
 464               		; start of epilogue
 465 000e 1001      		RETA
 466               		.size	chSchRescheduleS, .-chSchRescheduleS
 467               		.section	.text.chSchGoSleepTimeoutS,"ax",@progbits
 468               		.balign 2
 469               		.global	chSchGoSleepTimeoutS
 470               		.type	chSchGoSleepTimeoutS, @function
 471               	chSchGoSleepTimeoutS:
 472               	; start of function
 473               	; framesize_regs:     4
GAS LISTING /tmp/ccSntYig.s 			page 10


 474               	; framesize_locals:   0
 475               	; framesize_outgoing: 0
 476               	; framesize:          4
 477               	; elim ap -> fp       8
 478               	; elim fp -> sp       0
 479               	; saved regs: R10
 480               		; start of prologue
 481 0000 0A14      		PUSHM.A	#1, R10
 482               		; end of prologue
 483 0002 3CF0 FF00 		AND	#0xff, R12
 484 0006 8A00 0000 		MOVA	#nil, R10
 485 000a 0E0A      		MOVA	@R10, R14
 486 000c 9E00 0000 		CMPA	#nil+62, R14 { JNE	.L51
 486      0020 
 487 0012 B013 0000 		CALLA	#port_disable
 488 0016 0018 F240 		MOVX.A	#__func__.2644, &nil+10
 488      0000 0000 
 489               	.L52:
 490 001e 8000 0000 		BRA	#.L52
 491               	.L51:
 492 0022 CE4C 0400 		MOV.B	R12, 4(R14)
 493 0026 8E4D 0A00 		MOV.W	R13, 10(R14)
 494 002a CC0A      		MOVA	R10, R12
 495 002c AC00 0E00 		ADDA	#14, R12
 496               	.L54:
 497 0030 CC93 0400 		CMP.B	#0, 4(R12) { JNE	.L53
 497      0020 
 498 0036 7A0C 0400 		MOVA	R12, 4(R10)
 499 003a 7A0C 0000 		MOVA	R12, @R10
 500 003e CD0E      		MOVA	R14, R13
 501 0040 B013 0000 		CALLA	#_port_switch
 502 0044 0C0A      		MOVA	@R10, R12
 503 0046 3C0C 0600 		MOVA	6(R12), R12
 504               		; start of epilogue
 505 004a 0A16      		POPM.A	#1, r10
 506 004c 1001      		RETA
 507               	.L53:
 508 004e AC00 1000 		ADDA	#16, R12
 509 0052 8D00 0000 		MOVA	#nil+62, R13
 510 0056 DD0C 002C 		CMPA	R12, R13 { JHS	.L54
 511 005a B013 0000 		CALLA	#port_disable
 512 005e 0018 F240 		MOVX.A	#__func__.2644, &nil+10
 512      0000 0000 
 513               	.L55:
 514 0066 8000 0000 		BRA	#.L55
 515               		.size	chSchGoSleepTimeoutS, .-chSchGoSleepTimeoutS
 516               		.section	.text.chThdSuspendTimeoutS,"ax",@progbits
 517               		.balign 2
 518               		.global	chThdSuspendTimeoutS
 519               		.type	chThdSuspendTimeoutS, @function
 520               	chThdSuspendTimeoutS:
 521               	; start of function
 522               	; framesize_regs:     0
 523               	; framesize_locals:   0
 524               	; framesize_outgoing: 0
 525               	; framesize:          0
 526               	; elim ap -> fp       4
GAS LISTING /tmp/ccSntYig.s 			page 11


 527               	; elim fp -> sp       0
 528               	; saved regs:(none)
 529               		; start of prologue
 530               		; end of prologue
 531 0000 0018 CC93 		CMPX.A	#0, @R12 { JEQ	.L59
 531      0000 0024 
 532 0008 B013 0000 		CALLA	#port_disable
 533 000c 0018 F240 		MOVX.A	#__func__.2650, &nil+10
 533      0000 0000 
 534               	.L60:
 535 0014 8000 0000 		BRA	#.L60
 536               	.L59:
 537 0018 8E00 0000 		MOVA	#nil, R14
 538 001c 0018 EC4E 		MOVX.A	@R14, @R12
 538      0000 
 539 0022 0E0E      		MOVA	@R14, R14
 540 0024 7E0C 0600 		MOVA	R12, 6(R14)
 541 0028 6C43      		MOV.B	#2, R12
 542 002a B013 0000 		CALLA	#chSchGoSleepTimeoutS
 543               		; start of epilogue
 544 002e 1001      		RETA
 545               		.size	chThdSuspendTimeoutS, .-chThdSuspendTimeoutS
 546               		.section	.text.chThdResumeI,"ax",@progbits
 547               		.balign 2
 548               		.global	chThdResumeI
 549               		.type	chThdResumeI, @function
 550               	chThdResumeI:
 551               	; start of function
 552               	; framesize_regs:     0
 553               	; framesize_locals:   0
 554               	; framesize_outgoing: 0
 555               	; framesize:          0
 556               	; elim ap -> fp       4
 557               	; elim fp -> sp       0
 558               	; saved regs:(none)
 559               		; start of prologue
 560               		; end of prologue
 561 0000 CE0C      		MOVA	R12, R14
 562 0002 0C0C      		MOVA	@R12, R12
 563 0004 9C00 0000 		CMPA	#0, R12 { JEQ	.L61
 563      0024 
 564 000a EC93 0400 		CMP.B	#2, 4(R12) { JEQ	.L63
 564      0024 
 565 0010 B013 0000 		CALLA	#port_disable
 566 0014 0018 F240 		MOVX.A	#__func__.2656, &nil+10
 566      0000 0000 
 567               	.L64:
 568 001c 8000 0000 		BRA	#.L64
 569               	.L63:
 570 0020 0018 CE43 		MOVX.A	#0, @R14
 570      0000 
 571 0026 B013 0000 		CALLA	#chSchReadyI
 572               	.L61:
 573               		; start of epilogue
 574 002a 1001      		RETA
 575               		.size	chThdResumeI, .-chThdResumeI
 576               		.section	.text.chThdSleep,"ax",@progbits
GAS LISTING /tmp/ccSntYig.s 			page 12


 577               		.balign 2
 578               		.global	chThdSleep
 579               		.type	chThdSleep, @function
 580               	chThdSleep:
 581               	; start of function
 582               	; framesize_regs:     4
 583               	; framesize_locals:   0
 584               	; framesize_outgoing: 0
 585               	; framesize:          4
 586               	; elim ap -> fp       8
 587               	; elim fp -> sp       0
 588               	; saved regs: R10
 589               		; start of prologue
 590 0000 0A14      		PUSHM.A	#1, R10
 591               		; end of prologue
 592 0002 0A4C      		MOV.W	R12, R10
 593 0004 B013 0000 		CALLA	#port_lock
 594 0008 0D4A      		MOV.W	R10, R13
 595 000a 5C43      		MOV.B	#1, R12
 596 000c B013 0000 		CALLA	#chSchGoSleepTimeoutS
 597 0010 B013 0000 		CALLA	#port_unlock
 598               		; start of epilogue
 599 0014 0A16      		POPM.A	#1, r10
 600 0016 1001      		RETA
 601               		.size	chThdSleep, .-chThdSleep
 602               		.section	.text.chThdSleepUntil,"ax",@progbits
 603               		.balign 2
 604               		.global	chThdSleepUntil
 605               		.type	chThdSleepUntil, @function
 606               	chThdSleepUntil:
 607               	; start of function
 608               	; framesize_regs:     4
 609               	; framesize_locals:   0
 610               	; framesize_outgoing: 0
 611               	; framesize:          4
 612               	; elim ap -> fp       8
 613               	; elim fp -> sp       0
 614               	; saved regs: R10
 615               		; start of prologue
 616 0000 0A14      		PUSHM.A	#1, R10
 617               		; end of prologue
 618 0002 0A4C      		MOV.W	R12, R10
 619 0004 B013 0000 		CALLA	#port_lock
 620 0008 4018 1D42 		MOVX.W	&nil+8, R13
 620      0000 
 621 000e 0A8D      		SUB.W	R13, R10
 622 0010 0D4A      		MOV.W	R10, R13
 623 0012 5C43      		MOV.B	#1, R12
 624 0014 B013 0000 		CALLA	#chSchGoSleepTimeoutS
 625 0018 B013 0000 		CALLA	#port_unlock
 626               		; start of epilogue
 627 001c 0A16      		POPM.A	#1, r10
 628 001e 1001      		RETA
 629               		.size	chThdSleepUntil, .-chThdSleepUntil
 630               		.section	.text.chSemWaitTimeout,"ax",@progbits
 631               		.balign 2
 632               		.global	chSemWaitTimeout
GAS LISTING /tmp/ccSntYig.s 			page 13


 633               		.type	chSemWaitTimeout, @function
 634               	chSemWaitTimeout:
 635               	; start of function
 636               	; framesize_regs:     0
 637               	; framesize_locals:   8
 638               	; framesize_outgoing: 0
 639               	; framesize:          8
 640               	; elim ap -> fp       4
 641               	; elim fp -> sp       8
 642               	; saved regs:(none)
 643               		; start of prologue
 644 0000 B100 0800 		SUBA	#8, R1
 645               		; end of prologue
 646 0004 710C 0000 		MOVA	R12, @R1
 647 0008 710D 0400 		MOVA	R13, 4(R1)
 648 000c B013 0000 		CALLA	#port_lock
 649 0010 3D01 0400 		MOVA	4(R1), R13
 650 0014 0C01      		MOVA	@R1, R12
 651 0016 B013 0000 		CALLA	#chSemWaitTimeoutS
 652 001a 710C 0000 		MOVA	R12, @R1
 653 001e B013 0000 		CALLA	#port_unlock
 654 0022 0C01      		MOVA	@R1, R12
 655               		; start of epilogue
 656 0024 A100 0800 		ADDA	#8, R1
 657 0028 1001      		RETA
 658               		.size	chSemWaitTimeout, .-chSemWaitTimeout
 659               		.section	.text.chSemWaitTimeoutS,"ax",@progbits
 660               		.balign 2
 661               		.global	chSemWaitTimeoutS
 662               		.type	chSemWaitTimeoutS, @function
 663               	chSemWaitTimeoutS:
 664               	; start of function
 665               	; framesize_regs:     4
 666               	; framesize_locals:   0
 667               	; framesize_outgoing: 0
 668               	; framesize:          4
 669               	; elim ap -> fp       8
 670               	; elim fp -> sp       0
 671               	; saved regs: R10
 672               		; start of prologue
 673 0000 0A14      		PUSHM.A	#1, R10
 674               		; end of prologue
 675 0002 9C00 0000 		CMPA	#0, R12 { JNE	.L72
 675      0020 
 676 0008 B013 0000 		CALLA	#port_disable
 677 000c 0018 F240 		MOVX.A	#__func__.2672, &nil+10
 677      0000 0000 
 678               	.L73:
 679 0014 8000 0000 		BRA	#.L73
 680               	.L72:
 681 0018 2E4C      		MOV.W	@R12, R14
 682 001a 4A43      		MOV.B	#0, R10
 683 001c 0A9E 0038 		CMP.W	R14, R10 { JL	.L74
 684 0020 3D93 0024 		CMP.W	#-1, R13 { JEQ	.L76
 685 0024 3E53      		ADD.W	#-1, R14
 686 0026 8C4E 0000 		MOV.W	R14, @R12
 687 002a 2E00 0000 		MOVA	&nil, R14
GAS LISTING /tmp/ccSntYig.s 			page 14


 688 002e 7E0C 0600 		MOVA	R12, 6(R14)
 689 0032 7C40 0300 		MOV.B	#3, R12
 690 0036 B013 0000 		CALLA	#chSchGoSleepTimeoutS
 691               	.L71:
 692               		; start of epilogue
 693 003a 0A16      		POPM.A	#1, r10
 694 003c 1001      		RETA
 695               	.L74:
 696 003e 3E53      		ADD.W	#-1, R14
 697 0040 8C4E 0000 		MOV.W	R14, @R12
 698 0044 4C43      		MOV.B	#0, R12
 699 0046 8000 0000 		BRA	#.L71
 700               	.L76:
 701 004a 8C0F FFFF 		MOVA	#-1, R12
 702 004e 8000 0000 		BRA	#.L71
 703               		.size	chSemWaitTimeoutS, .-chSemWaitTimeoutS
 704               		.section	.text.chSemSignal,"ax",@progbits
 705               		.balign 2
 706               		.global	chSemSignal
 707               		.type	chSemSignal, @function
 708               	chSemSignal:
 709               	; start of function
 710               	; framesize_regs:     0
 711               	; framesize_locals:   4
 712               	; framesize_outgoing: 0
 713               	; framesize:          4
 714               	; elim ap -> fp       4
 715               	; elim fp -> sp       4
 716               	; saved regs:(none)
 717               		; start of prologue
 718 0000 B100 0400 		SUBA	#4, R1
 719               		; end of prologue
 720 0004 710C 0000 		MOVA	R12, @R1
 721 0008 B013 0000 		CALLA	#port_lock
 722 000c 0C01      		MOVA	@R1, R12
 723 000e B013 0000 		CALLA	#chSemSignalI
 724 0012 B013 0000 		CALLA	#chSchRescheduleS
 725 0016 B013 0000 		CALLA	#port_unlock
 726               		; start of epilogue
 727 001a A100 0400 		ADDA	#4, R1
 728 001e 1001      		RETA
 729               		.size	chSemSignal, .-chSemSignal
 730               		.section	.text.chSemSignalI,"ax",@progbits
 731               		.balign 2
 732               		.global	chSemSignalI
 733               		.type	chSemSignalI, @function
 734               	chSemSignalI:
 735               	; start of function
 736               	; framesize_regs:     0
 737               	; framesize_locals:   0
 738               	; framesize_outgoing: 0
 739               	; framesize:          0
 740               	; elim ap -> fp       4
 741               	; elim fp -> sp       0
 742               	; saved regs:(none)
 743               		; start of prologue
 744               		; end of prologue
GAS LISTING /tmp/ccSntYig.s 			page 15


 745 0000 CE0C      		MOVA	R12, R14
 746 0002 9C00 0000 		CMPA	#0, R12 { JNE	.L79
 746      0020 
 747 0008 B013 0000 		CALLA	#port_disable
 748 000c 0018 F240 		MOVX.A	#__func__.2680, &nil+10
 748      0000 0000 
 749               	.L80:
 750 0014 8000 0000 		BRA	#.L80
 751               	.L79:
 752 0018 2C4C      		MOV.W	@R12, R12
 753 001a 1C53      		ADD.W	#1, R12
 754 001c 8E4C 0000 		MOV.W	R12, @R14
 755 0020 4D43      		MOV.B	#0, R13
 756 0022 0D9C 0038 		CMP.W	R12, R13 { JL	.L78
 757 0026 8C00 0000 		MOVA	#nil+14, R12
 758               	.L85:
 759 002a 0018 5E9C 		CMPX.A	6(R12), R14 { JNE	.L82
 759      0600 0020 
 760 0032 FC90 0300 		CMP.B	#3, 4(R12) { JEQ	.L83
 760      0400 0024 
 761 003a B013 0000 		CALLA	#port_disable
 762 003e 0018 F240 		MOVX.A	#__func__.2680, &nil+10
 762      0000 0000 
 763               	.L84:
 764 0046 8000 0000 		BRA	#.L84
 765               	.L83:
 766 004a 4D43      		MOV.B	#0, R13
 767 004c B013 0000 		CALLA	#chSchReadyI
 768               	.L78:
 769               		; start of epilogue
 770 0050 1001      		RETA
 771               	.L82:
 772 0052 AC00 1000 		ADDA	#16, R12
 773 0056 9C00 0000 		CMPA	#nil+62, R12 { JLO	.L85
 773      0028 
 774 005c B013 0000 		CALLA	#port_disable
 775 0060 0018 F240 		MOVX.A	#__func__.2680, &nil+10
 775      0000 0000 
 776               	.L86:
 777 0068 8000 0000 		BRA	#.L86
 778               		.size	chSemSignalI, .-chSemSignalI
 779               		.section	.text.chSemReset,"ax",@progbits
 780               		.balign 2
 781               		.global	chSemReset
 782               		.type	chSemReset, @function
 783               	chSemReset:
 784               	; start of function
 785               	; framesize_regs:     0
 786               	; framesize_locals:   8
 787               	; framesize_outgoing: 0
 788               	; framesize:          8
 789               	; elim ap -> fp       4
 790               	; elim fp -> sp       8
 791               	; saved regs:(none)
 792               		; start of prologue
 793 0000 B100 0800 		SUBA	#8, R1
 794               		; end of prologue
GAS LISTING /tmp/ccSntYig.s 			page 16


 795 0004 710C 0400 		MOVA	R12, 4(R1)
 796 0008 710D 0000 		MOVA	R13, @R1
 797 000c B013 0000 		CALLA	#port_lock
 798 0010 0D01      		MOVA	@R1, R13
 799 0012 3C01 0400 		MOVA	4(R1), R12
 800 0016 B013 0000 		CALLA	#chSemResetI
 801 001a B013 0000 		CALLA	#chSchRescheduleS
 802 001e B013 0000 		CALLA	#port_unlock
 803               		; start of epilogue
 804 0022 A100 0800 		ADDA	#8, R1
 805 0026 1001      		RETA
 806               		.size	chSemReset, .-chSemReset
 807               		.section	.text.chSemResetI,"ax",@progbits
 808               		.balign 2
 809               		.global	chSemResetI
 810               		.type	chSemResetI, @function
 811               	chSemResetI:
 812               	; start of function
 813               	; framesize_regs:     24
 814               	; framesize_locals:   0
 815               	; framesize_outgoing: 0
 816               	; framesize:          24
 817               	; elim ap -> fp       28
 818               	; elim fp -> sp       0
 819               	; saved regs: R4 R6 R7 R8 R9 R10
 820               		; start of prologue
 821 0000 4A14      		PUSHM.A	#5, R10
 822 0002 0414      		PUSHM.A	#1, R4
 823               		; end of prologue
 824 0004 C60C      		MOVA	R12, R6
 825 0006 9C00 0000 		CMPA	#0, R12 { JEQ	.L90
 825      0024 
 826 000c 0D93 0034 		CMP.W	#0, R13 { JGE	.L91
 827               	.L90:
 828 0010 B013 0000 		CALLA	#port_disable
 829 0014 0018 F240 		MOVX.A	#__func__.2693, &nil+10
 829      0000 0000 
 830               	.L92:
 831 001c 8000 0000 		BRA	#.L92
 832               	.L91:
 833 0020 294C      		MOV.W	@R12, R9
 834 0022 8C4D 0000 		MOV.W	R13, @R12
 835 0026 8A00 0000 		MOVA	#nil+18, R10
 836 002a 4743      		MOV.B	#0, R7
 837 002c 8800 0000 		MOVA	#chSchReadyI, R8
 838 0030 840F FEFF 		MOVA	#-2, R4
 839               	.L93:
 840 0034 CC0A      		MOVA	R10, R12
 841 0036 AC0F FCFF 		ADDA	#-4, R12
 842 003a 0993 0038 		CMP.W	#0, R9 { JL	.L99
 843               		; start of epilogue
 844 003e 0416      		POPM.A	#1, r4
 845 0040 4616      		POPM.A	#5, r10
 846 0042 1001      		RETA
 847               	.L99:
 848 0044 3790 0300 		CMP.W	#3, R7 { JNE	.L94
 848      0020 
GAS LISTING /tmp/ccSntYig.s 			page 17


 849 004a B013 0000 		CALLA	#port_disable
 850 004e 0018 F240 		MOVX.A	#__func__.2693, &nil+10
 850      0000 0000 
 851               	.L95:
 852 0056 8000 0000 		BRA	#.L95
 853               	.L94:
 854 005a 0018 569A 		CMPX.A	2(R10), R6 { JNE	.L96
 854      0200 0020 
 855 0062 FA90 0300 		CMP.B	#3, @R10 { JEQ	.L97
 855      0000 0024 
 856 006a B013 0000 		CALLA	#port_disable
 857 006e 0018 F240 		MOVX.A	#__func__.2693, &nil+10
 857      0000 0000 
 858               	.L98:
 859 0076 8000 0000 		BRA	#.L98
 860               	.L97:
 861 007a 1953      		ADD.W	#1, R9
 862 007c CD04      		MOVA	R4, R13
 863 007e 4813      		CALLA	R8
 864               	.L96:
 865 0080 1753      		ADD.W	#1, R7
 866 0082 AA00 1000 		ADDA	#16, R10
 867 0086 8000 0000 		BRA	#.L93
 868               		.size	chSemResetI, .-chSemResetI
 869               		.section	.text.chEvtSignal,"ax",@progbits
 870               		.balign 2
 871               		.global	chEvtSignal
 872               		.type	chEvtSignal, @function
 873               	chEvtSignal:
 874               	; start of function
 875               	; framesize_regs:     8
 876               	; framesize_locals:   4
 877               	; framesize_outgoing: 0
 878               	; framesize:          12
 879               	; elim ap -> fp       12
 880               	; elim fp -> sp       4
 881               	; saved regs: R8 R9
 882               		; start of prologue
 883 0000 1914      		PUSHM.A	#2, R9
 884 0002 B100 0400 		SUBA	#4, R1
 885               		; end of prologue
 886 0006 084D      		MOV.W	R13, R8
 887 0008 094E      		MOV.W	R14, R9
 888 000a 710C 0000 		MOVA	R12, @R1
 889 000e B013 0000 		CALLA	#port_lock
 890 0012 0D48      		MOV.W	R8, R13
 891 0014 0E49      		MOV.W	R9, R14
 892 0016 0C01      		MOVA	@R1, R12
 893 0018 B013 0000 		CALLA	#chEvtSignalI
 894 001c B013 0000 		CALLA	#chSchRescheduleS
 895 0020 B013 0000 		CALLA	#port_unlock
 896               		; start of epilogue
 897 0024 A100 0400 		ADDA	#4, R1
 898 0028 1816      		POPM.A	#2, r9
 899 002a 1001      		RETA
 900               		.size	chEvtSignal, .-chEvtSignal
 901               		.section	.text.chEvtSignalI,"ax",@progbits
GAS LISTING /tmp/ccSntYig.s 			page 18


 902               		.balign 2
 903               		.global	chEvtSignalI
 904               		.type	chEvtSignalI, @function
 905               	chEvtSignalI:
 906               	; start of function
 907               	; framesize_regs:     4
 908               	; framesize_locals:   0
 909               	; framesize_outgoing: 0
 910               	; framesize:          4
 911               	; elim ap -> fp       8
 912               	; elim fp -> sp       0
 913               	; saved regs: R10
 914               		; start of prologue
 915 0000 0A14      		PUSHM.A	#1, R10
 916               		; end of prologue
 917 0002 CA0C      		MOVA	R12, R10
 918 0004 9C00 0000 		CMPA	#0, R12 { JNE	.L105
 918      0020 
 919 000a B013 0000 		CALLA	#port_disable
 920 000e 0018 F240 		MOVX.A	#__func__.2705, &nil+10
 920      0000 0000 
 921               	.L106:
 922 0016 8000 0000 		BRA	#.L106
 923               	.L105:
 924 001a 1DDC 0C00 		BIS.W	12(R12), R13
 925 001e 1EDC 0E00 		BIS.W	14(R12), R14
 926 0022 8C4D 0C00 		MOV.W	R13, 12(R12)
 927 0026 8C4E 0E00 		MOV.W	R14, 14(R12)
 928 002a EC92 0400 		CMP.B	#4, 4(R12) { JNE	.L104
 928      0020 
 929 0030 1DFC 0600 		AND.W	6(R12), R13
 930 0034 1EFC 0800 		AND.W	8(R12), R14
 931 0038 0DDE      		BIS.W	R14, R13
 932 003a 0D93 0024 		CMP.W	#0, R13 { JEQ	.L104
 933 003e 4D43      		MOV.B	#0, R13
 934 0040 B013 0000 		CALLA	#chSchReadyI
 935               	.L104:
 936               		; start of epilogue
 937 0044 0A16      		POPM.A	#1, r10
 938 0046 1001      		RETA
 939               		.size	chEvtSignalI, .-chEvtSignalI
 940               		.section	.text.chEvtWaitAnyTimeout,"ax",@progbits
 941               		.balign 2
 942               		.global	chEvtWaitAnyTimeout
 943               		.type	chEvtWaitAnyTimeout, @function
 944               	chEvtWaitAnyTimeout:
 945               	; start of function
 946               	; framesize_regs:     28
 947               	; framesize_locals:   0
 948               	; framesize_outgoing: 0
 949               	; framesize:          28
 950               	; elim ap -> fp       32
 951               	; elim fp -> sp       0
 952               	; saved regs: R4 R5 R6 R7 R8 R9 R10
 953               		; start of prologue
 954 0000 6A14      		PUSHM.A	#7, R10
 955               		; end of prologue
GAS LISTING /tmp/ccSntYig.s 			page 19


 956 0002 064C      		MOV.W	R12, R6
 957 0004 074D      		MOV.W	R13, R7
 958 0006 054E      		MOV.W	R14, R5
 959 0008 2A00 0000 		MOVA	&nil, R10
 960 000c B013 0000 		CALLA	#port_lock
 961 0010 184A 0C00 		MOV.W	12(R10), R8
 962 0014 08F6      		AND.W	R6, R8
 963 0016 194A 0E00 		MOV.W	14(R10), R9
 964 001a 09F7      		AND.W	R7, R9
 965 001c 0C48      		MOV.W	R8, R12
 966 001e 0CD9      		BIS.W	R9, R12
 967 0020 8400 0000 		MOVA	#port_unlock, R4
 968 0024 0C93 0020 		CMP.W	#0, R12 { JNE	.L113
 969 0028 3593 0020 		CMP.W	#-1, R5 { JNE	.L114
 970               	.L117:
 971 002c 4413      		CALLA	R4
 972 002e 0C48      		MOV.W	R8, R12
 973 0030 0D49      		MOV.W	R9, R13
 974               		; start of epilogue
 975 0032 6416      		POPM.A	#7, r10
 976 0034 1001      		RETA
 977               	.L114:
 978 0036 8A46 0600 		MOV.W	R6, 6(R10)
 979 003a 8A47 0800 		MOV.W	R7, 8(R10)
 980 003e 0D45      		MOV.W	R5, R13
 981 0040 6C42      		MOV.B	#4, R12
 982 0042 B013 0000 		CALLA	#chSchGoSleepTimeoutS
 983 0046 9C00 0000 		CMPA	#0, R12 { JL	.L117
 983      0038 
 984 004c 184A 0C00 		MOV.W	12(R10), R8
 985 0050 08F6      		AND.W	R6, R8
 986 0052 194A 0E00 		MOV.W	14(R10), R9
 987 0056 09F7      		AND.W	R7, R9
 988               	.L113:
 989 0058 8AC8 0C00 		BIC.W	R8, 12(R10)
 990 005c 8AC9 0E00 		BIC.W	R9, 14(R10)
 991 0060 8000 0000 		BRA	#.L117
 992               		.size	chEvtWaitAnyTimeout, .-chEvtWaitAnyTimeout
 993               		.section	.upper.rodata,"a",@progbits
 994               		.type	__func__.2607, @object
 995               		.size	__func__.2607, 19
 996               	__func__.2607:
 997 0000 6368 5379 		.string	"chSysTimerHandlerI"
 997      7354 696D 
 997      6572 4861 
 997      6E64 6C65 
 997      7249 00
 998               		.type	__func__.2627, @object
 999               		.size	__func__.2627, 12
 1000               	__func__.2627:
 1001 0013 6368 5363 		.string	"chSchReadyI"
 1001      6852 6561 
 1001      6479 4900 
 1002               		.type	__func__.2644, @object
 1003               		.size	__func__.2644, 21
 1004               	__func__.2644:
 1005 001f 6368 5363 		.string	"chSchGoSleepTimeoutS"
GAS LISTING /tmp/ccSntYig.s 			page 20


 1005      6847 6F53 
 1005      6C65 6570 
 1005      5469 6D65 
 1005      6F75 7453 
 1006               		.type	__func__.2650, @object
 1007               		.size	__func__.2650, 21
 1008               	__func__.2650:
 1009 0034 6368 5468 		.string	"chThdSuspendTimeoutS"
 1009      6453 7573 
 1009      7065 6E64 
 1009      5469 6D65 
 1009      6F75 7453 
 1010               		.type	__func__.2656, @object
 1011               		.size	__func__.2656, 13
 1012               	__func__.2656:
 1013 0049 6368 5468 		.string	"chThdResumeI"
 1013      6452 6573 
 1013      756D 6549 
 1013      00
 1014               		.type	__func__.2672, @object
 1015               		.size	__func__.2672, 18
 1016               	__func__.2672:
 1017 0056 6368 5365 		.string	"chSemWaitTimeoutS"
 1017      6D57 6169 
 1017      7454 696D 
 1017      656F 7574 
 1017      5300 
 1018               		.type	__func__.2680, @object
 1019               		.size	__func__.2680, 13
 1020               	__func__.2680:
 1021 0068 6368 5365 		.string	"chSemSignalI"
 1021      6D53 6967 
 1021      6E61 6C49 
 1021      00
 1022               		.type	__func__.2693, @object
 1023               		.size	__func__.2693, 12
 1024               	__func__.2693:
 1025 0075 6368 5365 		.string	"chSemResetI"
 1025      6D52 6573 
 1025      6574 4900 
 1026               		.type	__func__.2705, @object
 1027               		.size	__func__.2705, 13
 1028               	__func__.2705:
 1029 0081 6368 4576 		.string	"chEvtSignalI"
 1029      7453 6967 
 1029      6E61 6C49 
 1029      00
 1030               		.ident	"GCC: (SOMNIUM Technologies Limited - msp430-gcc 6.2.1.16) 6.2.1 20161212"
GAS LISTING /tmp/ccSntYig.s 			page 21


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ch.c
     /tmp/ccSntYig.s:5      .text.port_init:0000000000000000 port_init
     /tmp/ccSntYig.s:23     .text.port_unlock:0000000000000000 port_unlock
     /tmp/ccSntYig.s:46     .text.port_suspend:0000000000000000 port_suspend
     /tmp/ccSntYig.s:46     .text.port_suspend:0000000000000000 port_lock
     /tmp/ccSntYig.s:46     .text.port_suspend:0000000000000000 port_disable
     /tmp/ccSntYig.s:73     .upper.bss:0000000000000000 nil
     /tmp/ccSntYig.s:79     .text.chSysInit:0000000000000000 chSysInit
     /tmp/ccSntYig.s:162    .text.chSysHalt:0000000000000000 chSysHalt
     /tmp/ccSntYig.s:184    .text.chSysTimerHandlerI:0000000000000000 chSysTimerHandlerI
     /tmp/ccSntYig.s:347    .text.chSchReadyI:0000000000000000 chSchReadyI
     /tmp/ccSntYig.s:996    .upper.rodata:0000000000000000 __func__.2607
     /tmp/ccSntYig.s:248    .text.chSysUnconditionalLock:0000000000000000 chSysUnconditionalLock
     /tmp/ccSntYig.s:272    .text.chSysUnconditionalUnlock:0000000000000000 chSysUnconditionalUnlock
     /tmp/ccSntYig.s:296    .text.chSysGetStatusAndLockX:0000000000000000 chSysGetStatusAndLockX
     /tmp/ccSntYig.s:324    .text.chSysRestoreStatusX:0000000000000000 chSysRestoreStatusX
     /tmp/ccSntYig.s:450    .text.chSchRescheduleS:0000000000000000 chSchRescheduleS
     /tmp/ccSntYig.s:1000   .upper.rodata:0000000000000013 __func__.2627
     /tmp/ccSntYig.s:405    .text.chSchIsPreemptionRequired:0000000000000000 chSchIsPreemptionRequired
     /tmp/ccSntYig.s:427    .text.chSchDoReschedule:0000000000000000 chSchDoReschedule
     /tmp/ccSntYig.s:471    .text.chSchGoSleepTimeoutS:0000000000000000 chSchGoSleepTimeoutS
     /tmp/ccSntYig.s:1004   .upper.rodata:000000000000001f __func__.2644
     /tmp/ccSntYig.s:520    .text.chThdSuspendTimeoutS:0000000000000000 chThdSuspendTimeoutS
     /tmp/ccSntYig.s:1008   .upper.rodata:0000000000000034 __func__.2650
     /tmp/ccSntYig.s:550    .text.chThdResumeI:0000000000000000 chThdResumeI
     /tmp/ccSntYig.s:1012   .upper.rodata:0000000000000049 __func__.2656
     /tmp/ccSntYig.s:580    .text.chThdSleep:0000000000000000 chThdSleep
     /tmp/ccSntYig.s:606    .text.chThdSleepUntil:0000000000000000 chThdSleepUntil
     /tmp/ccSntYig.s:634    .text.chSemWaitTimeout:0000000000000000 chSemWaitTimeout
     /tmp/ccSntYig.s:663    .text.chSemWaitTimeoutS:0000000000000000 chSemWaitTimeoutS
     /tmp/ccSntYig.s:1016   .upper.rodata:0000000000000056 __func__.2672
     /tmp/ccSntYig.s:708    .text.chSemSignal:0000000000000000 chSemSignal
     /tmp/ccSntYig.s:734    .text.chSemSignalI:0000000000000000 chSemSignalI
     /tmp/ccSntYig.s:1020   .upper.rodata:0000000000000068 __func__.2680
     /tmp/ccSntYig.s:783    .text.chSemReset:0000000000000000 chSemReset
     /tmp/ccSntYig.s:811    .text.chSemResetI:0000000000000000 chSemResetI
     /tmp/ccSntYig.s:1024   .upper.rodata:0000000000000075 __func__.2693
     /tmp/ccSntYig.s:873    .text.chEvtSignal:0000000000000000 chEvtSignal
     /tmp/ccSntYig.s:905    .text.chEvtSignalI:0000000000000000 chEvtSignalI
     /tmp/ccSntYig.s:1028   .upper.rodata:0000000000000081 __func__.2705
     /tmp/ccSntYig.s:944    .text.chEvtWaitAnyTimeout:0000000000000000 chEvtWaitAnyTimeout
     /tmp/ccSntYig.s:141    .text.chSysInit:00000000000000d2 .L5
     /tmp/ccSntYig.s:95     .text.chSysInit:0000000000000018 .L6
     /tmp/ccSntYig.s:177    .text.chSysHalt:000000000000000c .L8
     /tmp/ccSntYig.s:228    .text.chSysTimerHandlerI:0000000000000064 .L11
     /tmp/ccSntYig.s:217    .text.chSysTimerHandlerI:0000000000000046 .L12
     /tmp/ccSntYig.s:212    .text.chSysTimerHandlerI:000000000000003c .L13
     /tmp/ccSntYig.s:203    .text.chSysTimerHandlerI:000000000000001a .L17
     /tmp/ccSntYig.s:238    .text.chSysTimerHandlerI:000000000000007c .L15
     /tmp/ccSntYig.s:214    .text.chSysTimerHandlerI:0000000000000040 .L18
     /tmp/ccSntYig.s:225    .text.chSysTimerHandlerI:0000000000000060 .L16
     /tmp/ccSntYig.s:264    .text.chSysUnconditionalLock:000000000000000c .L19
     /tmp/ccSntYig.s:288    .text.chSysUnconditionalUnlock:000000000000000a .L24
     /tmp/ccSntYig.s:314    .text.chSysGetStatusAndLockX:0000000000000016 .L27
     /tmp/ccSntYig.s:339    .text.chSysRestoreStatusX:0000000000000016 .L31
     /tmp/ccSntYig.s:363    .text.chSchReadyI:0000000000000016 .L37
GAS LISTING /tmp/ccSntYig.s 			page 22


     /tmp/ccSntYig.s:368    .text.chSchReadyI:0000000000000026 .L38
     /tmp/ccSntYig.s:366    .text.chSchReadyI:0000000000000022 .L39
     /tmp/ccSntYig.s:374    .text.chSchReadyI:000000000000003c .L40
     /tmp/ccSntYig.s:372    .text.chSchReadyI:0000000000000038 .L41
     /tmp/ccSntYig.s:382    .text.chSchReadyI:000000000000005c .L42
     /tmp/ccSntYig.s:380    .text.chSchReadyI:0000000000000058 .L43
     /tmp/ccSntYig.s:395    .text.chSchReadyI:000000000000008a .L44
     /tmp/ccSntYig.s:419    .text.chSchIsPreemptionRequired:000000000000000e .L46
     /tmp/ccSntYig.s:463    .text.chSchRescheduleS:000000000000000e .L48
     /tmp/ccSntYig.s:491    .text.chSchGoSleepTimeoutS:0000000000000022 .L51
     /tmp/ccSntYig.s:489    .text.chSchGoSleepTimeoutS:000000000000001e .L52
     /tmp/ccSntYig.s:507    .text.chSchGoSleepTimeoutS:000000000000004e .L53
     /tmp/ccSntYig.s:496    .text.chSchGoSleepTimeoutS:0000000000000030 .L54
     /tmp/ccSntYig.s:513    .text.chSchGoSleepTimeoutS:0000000000000066 .L55
     /tmp/ccSntYig.s:536    .text.chThdSuspendTimeoutS:0000000000000018 .L59
     /tmp/ccSntYig.s:534    .text.chThdSuspendTimeoutS:0000000000000014 .L60
     /tmp/ccSntYig.s:572    .text.chThdResumeI:000000000000002a .L61
     /tmp/ccSntYig.s:569    .text.chThdResumeI:0000000000000020 .L63
     /tmp/ccSntYig.s:567    .text.chThdResumeI:000000000000001c .L64
     /tmp/ccSntYig.s:680    .text.chSemWaitTimeoutS:0000000000000018 .L72
     /tmp/ccSntYig.s:678    .text.chSemWaitTimeoutS:0000000000000014 .L73
     /tmp/ccSntYig.s:695    .text.chSemWaitTimeoutS:000000000000003e .L74
     /tmp/ccSntYig.s:700    .text.chSemWaitTimeoutS:000000000000004a .L76
     /tmp/ccSntYig.s:691    .text.chSemWaitTimeoutS:000000000000003a .L71
     /tmp/ccSntYig.s:751    .text.chSemSignalI:0000000000000018 .L79
     /tmp/ccSntYig.s:749    .text.chSemSignalI:0000000000000014 .L80
     /tmp/ccSntYig.s:768    .text.chSemSignalI:0000000000000050 .L78
     /tmp/ccSntYig.s:771    .text.chSemSignalI:0000000000000052 .L82
     /tmp/ccSntYig.s:765    .text.chSemSignalI:000000000000004a .L83
     /tmp/ccSntYig.s:763    .text.chSemSignalI:0000000000000046 .L84
     /tmp/ccSntYig.s:758    .text.chSemSignalI:000000000000002a .L85
     /tmp/ccSntYig.s:776    .text.chSemSignalI:0000000000000068 .L86
     /tmp/ccSntYig.s:827    .text.chSemResetI:0000000000000010 .L90
     /tmp/ccSntYig.s:832    .text.chSemResetI:0000000000000020 .L91
     /tmp/ccSntYig.s:830    .text.chSemResetI:000000000000001c .L92
     /tmp/ccSntYig.s:847    .text.chSemResetI:0000000000000044 .L99
     /tmp/ccSntYig.s:853    .text.chSemResetI:000000000000005a .L94
     /tmp/ccSntYig.s:851    .text.chSemResetI:0000000000000056 .L95
     /tmp/ccSntYig.s:864    .text.chSemResetI:0000000000000080 .L96
     /tmp/ccSntYig.s:860    .text.chSemResetI:000000000000007a .L97
     /tmp/ccSntYig.s:858    .text.chSemResetI:0000000000000076 .L98
     /tmp/ccSntYig.s:839    .text.chSemResetI:0000000000000034 .L93
     /tmp/ccSntYig.s:923    .text.chEvtSignalI:000000000000001a .L105
     /tmp/ccSntYig.s:921    .text.chEvtSignalI:0000000000000016 .L106
     /tmp/ccSntYig.s:935    .text.chEvtSignalI:0000000000000044 .L104
     /tmp/ccSntYig.s:988    .text.chEvtWaitAnyTimeout:0000000000000058 .L113
     /tmp/ccSntYig.s:977    .text.chEvtWaitAnyTimeout:0000000000000036 .L114
     /tmp/ccSntYig.s:970    .text.chEvtWaitAnyTimeout:000000000000002c .L117

UNDEFINED SYMBOLS
__msp430x_in_isr
__crt0_init_highbss
nil_thd_configs
_port_thread_start
_heap_init
_port_switch
